!function n(e,t,a){function s(r,o){if(!t[r]){if(!e[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(i)return i(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[r]={exports:{}};e[r][0].call(d.exports,function(n){var t=e[r][1][n];return s(t?t:n)},d,d.exports,n,e,t,a)}return t[r].exports}for(var i="function"==typeof require&&require,r=0;r<a.length;r++)s(a[r]);return s}({1:[function(n,e,t){!function(){"use strict";angular.module("pipSettings",["pipSettings.Service","pipSettings.Page"])}()},{}],2:[function(n,e,t){!function(){"use strict";var n=angular.module("pipSettings.Page",["pipSettings.Service","pipAppBar","pipSelected","pipTranslate","pipSettings.Templates","pipNavIcon","pipActions.Service"]);n.config(["$stateProvider",function(n){n.state("settings",{url:"/settings?party_id",auth:!0,controller:"pipSettingsPageController",templateUrl:"settings_page/settings_page.html"})}]),n.controller("pipSettingsPageController",["$scope","$state","$rootScope","$timeout","pipAppBar","pipSettings","pipActions","pipBreadcrumb","pipNavIcon",function(n,e,t,a,s,i,r,o,l){function c(){r.hide(),s.part("menu",!0),s.part("actions","primary"),s.part("icon",!0),s.part("title","breadcrumb"),s.hideShadow(),o.text="Settings",l.menu()}function d(n){p(n.state)}function p(t){S(t),n.selected.tab&&e.go(t)}function S(e){n.selected.tab=_.find(n.tabs,function(n){return n.state===e}),n.selected.tabIndex=_.indexOf(n.tabs,n.selected.tab),n.selected.tabId=e}n.tabs=_.filter(i.getTabs(),function(n){if(n.visible===!0&&(!n.access||n.access(t.$user,n)))return n}),n.tabs=_.sortBy(n.tabs,"index"),n.selected={},"settings"!==e.current.name?S(e.current.name):"settings"===e.current.name&&i.getDefaultTab()?S(i.getDefaultTab().state):a(function(){i.getDefaultTab()&&S(i.getDefaultTab().state),!i.getDefaultTab()&&n.tabs.length>0&&S(n.tabs[0].state)}),c(),n.onNavigationSelect=p,n.onDropdownSelect=d}])}()},{}],3:[function(n,e,t){!function(){"use strict";var n=angular.module("pipSettings.Service",[]);n.provider("pipSettings",["$stateProvider",function(n){function e(n){return"settings."+n}function t(){return _.cloneDeep(p)}function a(){var n;return n=_.find(p,function(e){return e.state===n}),_.cloneDeep(n)}function s(t){var a;if(r(t),a=_.find(p,function(n){return n.state===e(t.state)}))throw new Error('Tab with state name "'+t.state+'" is already registered');p.push({state:e(t.state),title:t.title,index:t.index||1e5,access:t.access,visible:t.visible!==!1,stateConfig:_.cloneDeep(t.stateConfig)}),n.state(e(t.state),t.stateConfig),"undefined"==typeof d&&1===p.length&&i(t.state)}function i(n){if(!_.find(p,function(t){return t.state===e(n)}))throw new Error('Tab with state name "'+n+'" is not registered');d=e(n)}function r(n){if(!n||!_.isObject(n))throw new Error("Invalid object");if(null===n.state||""===n.state)throw new Error("Tab should have valid Angular UI router state name");if(n.access&&!_.isFunction(n.access))throw new Error('"access" should be a function');if(!n.stateConfig||!_.isObject(n.stateConfig))throw new Error("Invalid state configuration object")}function o(n){return n&&(S=n,m=null),S}function l(n){return n&&(m=n,S=null),m}function c(n){return null!==n&&void 0!==n&&(T=!!n),T}var d,p=[],S="SETTINGS_TITLE",m=null,T=!0;return this.showTitleText=o,this.showTitleLogo=l,this.showNavIcon=c,{addTab:s,getTabs:t,setDefaultTab:i,getDefaultTab:a,showTitleText:o,showTitleLogo:l,showNavIcon:c,$get:function(){return{getTabs:t,addTab:s,getDefaultTab:a,setDefaultTab:i,showTitleText:o,showTitleLogo:l,showNavIcon:c}}}}])}()},{}],4:[function(n,e,t){!function(){"use strict";angular.module("pipUserSettings",["ngMaterial","pipData","pipSettings.Service","pipSettings.Page","pipUserSettings.Strings","pipUserSettings.Sessions","pipUserSettings.BasicInfo","pipSettings.Templates"])}()},{}],5:[function(n,e,t){!function(){"use strict";var n=angular.module("pipUserSettings.BasicInfo",["pipUserSettings.ChangePassword","pipUserSettings.VerifyEmail","pipSettings.Service","pipSettings.Page"]);n.config(["pipSettingsProvider",function(n){n.addTab({state:"basic_info",index:1,title:"SETTINGS_BASIC_INFO_TITLE",stateConfig:{url:"/basic_info",controller:"pipUserSettingsBasicInfoController",templateUrl:"user_settings/user_settings_basic_info.html",auth:!0}}),n.setDefaultTab("basic_info")}]),n.controller("pipUserSettingsBasicInfoController",["$scope","$rootScope","$mdDialog","$state","$window","$timeout","$mdTheming","pipTranslate","pipTransaction","pipTheme","pipToasts","pipDataUser","pipDataParty","pipFormErrors",function(n,e,t,a,s,i,r,o,l,c,d,p,S,m){function T(){n.picture.save(function(){e.$broadcast("pipPartyAvatarUpdated")},function(n){return new Error(n)})}function u(t){n.picture=t.sender,n.picture.save(function(){e.$broadcast("pipPartyAvatarUpdated")},function(n){return new Error(n)})}function g(){if(n.form&&n.form.$setSubmitted(),e.$party){if("person"===e.$party.type&&n.form.$invalid)return;e.$party.loc_pos=n.loc_pos;try{var t=angular.toJson(e.$party)}catch(n){throw n}if(t!==n.originalParty){var a=n.transaction.begin("UPDATING");S.updateParty(e.$party,function(e){n.transaction.aborted(a)||(n.transaction.end(),n.originalParty=t,n.nameCopy=e.name)},function(t){n.transaction.end(t),n.message=String()+"ERROR_"+t.status||t.data.status_code,e.$party=angular.fromJson(n.originalParty)})}}}function I(){var t=n.transaction.begin("RequestEmailVerification");e.$user.id===e.$party.id&&p.updateUser({item:e.$user},function(a){n.transaction.aborted(t)||(n.transaction.end(),o.use(a.language),e.$user.language=a.language,e.$user.theme=a.theme,e.$user.theme&&c.setCurrentTheme(e.$user.theme,!0))},function(e){var t;n.transaction.end(e),t=String()+"ERROR_"+e.status||e.data.status_code,d.showNotification(o.translate(t),null,null,null)})}function E(n){var a;t.show({templateUrl:"user_settings/user_settings_change_password.html",controller:"pipUserSettingsChangePasswordController",targetEvent:n,locals:{email:e.$party.email}}).then(function(n){n&&(a=String()+"RESET_PWD_SUCCESS_TEXT",d.showNotification(o.translate(a),null,null,null))})}function N(a){var s;t.show({templateUrl:"user_settings/user_settings_verify_email.html",controller:"pipUserSettingsVerifyEmailController",targetEvent:a,locals:{email:e.$party.email}}).then(function(e){n.user.email_ver=e,e&&(s=String()+"VERIFY_EMAIL_SUCCESS_TEXT",d.showNotification(o.translate(s),null,null,null))})}try{n.originalParty=angular.toJson(e.$party)}catch(n){throw n}n.nameCopy=e.$party.name,i(function(){n.loc_pos=e.$party.loc_pos}),n.genders=o.translateSet(["male","female","n/s"]),n.languages=o.translateSet(["ru","en"]),n.transaction=l("settings.basic_info",n),n.themes=_.keys(_.omit(r.THEMES,"default")),a.get("settings.basic_info").onExit=g,n.errorsWithHint=m.errorsWithHint,n.onChangePassword=E,n.onVerifyEmail=N,n.onPictureCreated=u,n.onPictureChanged=T,n.onChangeUser=_.debounce(I,2e3),n.onChangeBasicInfo=_.debounce(g,2e3)}])}()},{}],6:[function(n,e,t){!function(){"use strict";var n=angular.module("pipUserSettings.ChangePassword",[]);n.controller("pipUserSettingsChangePasswordController",["$scope","$rootScope","$mdDialog","email","pipDataUser","pipTransaction","pipFormErrors",function(n,e,t,a,s,i,r){function o(){t.cancel()}function l(){n.changePasData&&(n.repeat!==n.changePasData.new_password&&""!==n.repeat&&n.repeat?(n.showRepeatHint=!0,n.form.repeat.$setValidity("repeat",!1)):(n.form.repeat.$setValidity("repeat",!0),n.repeat===n.changePasData.new_password?n.showRepeatHint=!1:n.showRepeatHint=!0))}function c(){n.onCheckRepeatPassword(),n.form.$invalid||n.transaction.begin("CHANGE_PASSWORD")&&(n.changePasData.email=a,s.changePassword(n.changePasData,function(){n.transaction.end(),t.hide(!0)},function(e){n.transaction.end(e),r.setFormError(n.form,e,{1107:"oldPassword",1105:"newPassword"})}))}n.transaction=i("settings.change_password",n),n.errorsRepeatWithHint=function(e,t){return n.showRepeatHint?r.errorsWithHint(e,t):{}},n.showRepeatHint=!0,n.changePasData={},n.errorsWithHint=r.errorsWithHint,n.onCancel=o,n.onCheckRepeatPassword=l,n.onApply=c}])}()},{}],7:[function(n,e,t){!function(){"use strict";var n=angular.module("pipUserSettings.Sessions",["pipSettings.Service","pipSettings.Page"]);n.config(["pipSettingsProvider","pipDataSessionProvider",function(n,e){n.addTab({state:"sessions",index:3,title:"SETTINGS_ACTIVE_SESSIONS_TITLE",stateConfig:{url:"/sessions",controller:"pipUserSettingsSessionsController",templateUrl:"user_settings/user_settings_sessions.html",auth:!0,resolve:{sessions:e.readSessionsResolver,sessionId:e.readSessionIdResolver}}})}]),n.controller("pipUserSettingsSessionsController",["$scope","pipTransaction","pipDataSession","sessions","sessionId",function(n,e,t,a,s){function i(){var e=n.transaction.begin("REMOVING");async.eachSeries(n.sessions,function(e,a){e.id==n.sessionId?a():t.removeSession({session:e},function(){n.sessions=_.without(n.sessions,e),a()},function(n){})},function(t){t&&n.transaction.end(t),n.transaction.aborted(e)||n.transaction.end()})}function r(e,a){if(e.id!==n.sessionId){var s=n.transaction.begin("REMOVING");t.removeSession({session:e},function(){n.transaction.aborted(s)||(n.transaction.end(),n.sessions=_.without(n.sessions,e),a&&a())},function(e){n.transaction.end(e),n.message="ERROR_"+e.status||e.data.status_code})}}n.sessionId=s,n.transaction=e("settings.sessions",n),n.sessions=a,n.onRemoveAll=i,n.onRemove=r}])}()},{}],8:[function(n,e,t){!function(){"use strict";var n=angular.module("pipUserSettings.Strings",["pipTranslate"]);n.config(["pipTranslateProvider",function(n){n.translations("en",{SETTINGS_TITLE:"Settings",SETTINGS_BASIC_INFO_TITLE:"Basic info",SETTINGS_ACTIVE_SESSIONS_TITLE:"Active sessions",SETTINGS_BASIC_INFO_FULL_NAME:"Full name",SETTINGS_BASIC_INFO_VERIFY_HINT:"Please, verify your email address.",SETTINGS_BASIC_INFO_VERIFY_CODE:"Verify email address",SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD:"Your password was changed on ",SETTINGS_BASIC_INFO_CHANGE_PASSWORD:"Change your password",SETTINGS_BASIC_INFO_NAME_HINT:"Please, use your real name to let other people know who you are.",SETTINGS_BASIC_INFO_WORDS_ABOUT_ME:"Few words about yourself",SETTINGS_BASIC_INFO_GENDER:"Gender",SETTINGS_BASIC_INFO_BIRTHDAY:"Birthday",SETTINGS_BASIC_INFO_LOCATION:"Current location",SETTINGS_BASIC_INFO_PRIMARY_EMAIL:"Primary email",SETTINGS_BASIC_INFO_FROM:"User since ",SETTINGS_BASIC_INFO_USER_ID:"User ID",SETTINGS_CHANGE_PASSWORD_TITLE:"Change password",SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD:"New password",SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD:"Repeat password",SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD:"Current password",SETTINGS_ACTIVE_SESSIONS_SUBTITLE:' If you notice any unfamiliar devices or locations, click"Close Session" to end the session.',SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION:"Close session",SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS:"Close active sessions",SETTINGS_ACTIVE_SESSION_OS:"OS: ",SETTINGS_ACTIVE_SESSION_IP:"IP: ",SETTINGS_ACTIVE_SESSION_ACTIVE:"active",SETTINGS_BLACKLIST_TITLE:"Blacklist",SETTINGS_BLACKLIST_SUBTITLE:"Parties from blacklist will not be able to send you invitations and private messages.",SETTINGS_BLACKLIST_UNBLOCK:"Unblock",SETTINGS_BLACKLIST_EMPTY:"You have no blocked parties",SETTINGS_CONTACT_INFO_TITLE:"Contact info",SETTINGS_CONTACT_INFO_EMAIL:"Email",SETTINGS_CONTACT_INFO_ADD_EMAIL:"Add email",SETTINGS_CONTACT_INFO_ADD_PHONE:"Add phone",SETTINGS_CONTACT_INFO_ADD_ADDRESS:"Add address",SETTINGS_CONTACT_INFO_ADD_ACCOUNT:"Add account",SETTINGS_CONTACT_INFO_ADD_URL:"Add URL",SETTINGS_CONTACT_INFO_ADDRESS:"Address",SETTINGS_CONTACT_INFO_PHONE:"Phone",SETTINGS_CONTACT_INFO_ACCOUNT_NAME:"Account name",SETTINGS_CONTACT_INFO_URL:"URL",THEME:"Theme",HINT_PASSWORD:"Minimum 6 characters",HINT_REPEAT_PASSWORD:"Repeat password",ERROR_WRONG_PASSWORD:"Wrong password",ERROR_IDENTICAL_PASSWORDS:"Old and new passwords are identical",REPEAT_PASSWORD_INVALID:"Password does not match",ERROR_EMAIL_INVALID:"Please, enter a valid email"}),n.translations("ru",{SETTINGS_TITLE:"Настройки",SETTINGS_BASIC_INFO_TITLE:"Основные данные",SETTINGS_ACTIVE_SESSIONS_TITLE:"Активные сессии",SETTINGS_BASIC_INFO_FULL_NAME:"Полное имя",SETTINGS_BASIC_INFO_NAME_HINT:"Пожалуйста, используйте реальное имя, чтоб люди могли вас узнать",SETTINGS_BASIC_INFO_VERIFY_HINT:"Пожалуйста, подтвердите адрес своей электронной почты",SETTINGS_BASIC_INFO_VERIFY_CODE:"Подтвердите адрес эл.почты",SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD:"Ваш пароль был изменен ",SETTINGS_BASIC_INFO_CHANGE_PASSWORD:"Поменять пароль",SETTINGS_BASIC_INFO_WORDS_ABOUT_ME:"Несколько слов о себе",SETTINGS_BASIC_INFO_GENDER:"Пол",SETTINGS_BASIC_INFO_BIRTHDAY:"Дата рождения",SETTINGS_BASIC_INFO_LOCATION:"Текущее местонахождение",SETTINGS_BASIC_INFO_PRIMARY_EMAIL:"Основной адрес эл. почты",SETTINGS_BASIC_INFO_FROM:"Начиная с",SETTINGS_BASIC_INFO_USER_ID:"Личный код",SETTINGS_CHANGE_PASSWORD_TITLE:"Изменить пароль",SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD:"Новый пароль",SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD:"Повтор",SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD:"Текущий пароль",SETTINGS_ACTIVE_SESSIONS_SUBTITLE:'Если вы заметили какие-либо незнакомые устройства или месторасположение, нажмите кнопку "Закончить сеанс", чтобы завершить сеанс.',SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION:"Закрыть сессию",SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS:"Закрыть активные сессии",SETTINGS_ACTIVE_SESSION_OS:"ОС: ",SETTINGS_ACTIVE_SESSION_IP:"IP: ",SETTINGS_ACTIVE_SESSION_ACTIVE:"Активно",SETTINGS_BLACKLIST_TITLE:"Блокировки",SETTINGS_BLACKLIST_SUBTITLE:"Участники из черного списка не смогут посылать вам приглашения и личные сообщения.",SETTINGS_BLACKLIST_UNBLOCK:"Разблокировать",SETTINGS_BLACKLIST_EMPTY:"У вас нет заблокированных участников",SETTINGS_CONTACT_INFO_TITLE:"Контакты",SETTINGS_CONTACT_INFO_EMAIL:"Адрес электронной почты",SETTINGS_CONTACT_INFO_ADD_EMAIL:"Добавить адрес эл. почты",SETTINGS_CONTACT_INFO_ADD_PHONE:"Добавить телефон",SETTINGS_CONTACT_INFO_ADD_ADDRESS:"Добавить адрес",SETTINGS_CONTACT_INFO_ADD_ACCOUNT:"Добавить аккаунт",SETTINGS_CONTACT_INFO_ADD_URL:"Добавить веб-сайт",SETTINGS_CONTACT_INFO_ADDRESS:"Адрес",SETTINGS_CONTACT_INFO_PHONE:"Телефон",SETTINGS_CONTACT_INFO_ACCOUNT_NAME:"Учетка в мессенджере",SETTINGS_CONTACT_INFO_URL:"Веб сайт",THEME:"Тема",HINT_PASSWORD:"Минимум 6 знаков",HINT_REPEAT_PASSWORD:"Повторите пароль",ERROR_WRONG_PASSWORD:"Неправильный пароль",ERROR_IDENTICAL_PASSWORDS:"Старый и новый пароли идентичны",REPEAT_PASSWORD_INVALID:"Пароль не совпадает",ERROR_EMAIL_INVALID:"Пожалуйста, введите правильный почт.адрес"})}])}()},{}],9:[function(n,e,t){!function(){"use strict";var n=angular.module("pipUserSettings.VerifyEmail",[]);n.controller("pipUserSettingsVerifyEmailController",["$scope","$rootScope","$mdDialog","pipTransaction","pipFormErrors","pipDataUser","email",function(n,e,t,a,s,i,r){function o(){n.transaction.abort()}function l(){t.cancel()}function c(){var e=n.transaction.begin("RequestEmailVerification");i.requestEmailVerification({},function(t){n.transaction.aborted(e)||n.transaction.end()},function(e){n.transaction.end(e)})}function d(){if(n.form.$setSubmitted(),!n.form.$invalid){var e=n.transaction.begin("Verifying");i.verifyEmail({email:n.data.email,code:n.data.code},function(a){n.transaction.aborted(e)||(n.transaction.end(),t.hide(!0))},function(e){n.transaction.end(e),s.setFormError(n.form,e,{1106:"email",1103:"code"})})}}n.emailVerified=!1,n.data={email:r,code:""},n.transaction=a("settings.verify_email",n),n.onAbort=o,n.onRequestVerificationClick=c,n.errorsWithHint=s.errorsWithHint,n.onVerify=d,n.onCancel=l}])}()},{}],10:[function(n,e,t){!function(n){try{n=angular.module("pipSettings.Templates")}catch(e){n=angular.module("pipSettings.Templates",[])}n.run(["$templateCache",function(n){n.put("settings_page/settings_page.html",'<md-toolbar class="pip-appbar-ext"></md-toolbar>\n<pip-document width="800" min-height="400"\n              class="pip-settings">\n\n    <div class="pip-menu-container"\n         ng-hide="manager === false || !tabs || tabs.length < 1">\n        <md-list class="pip-menu pip-simple-list hide-xs"\n                 pip-selected="selected.tabIndex"\n                 pip-selected-watch="selected.navId"\n                 pip-select="onNavigationSelect($event.id)">\n            <md-list-item class="pip-simple-list-item pip-selectable flex"\n                          ng-repeat="tab in tabs track by tab.state" ng-if="$party.id == $user.id ||\n                          tab.state == \'settings.basic_info\'|| tab.state ==\'settings.contact_info\'\n                          || tab.state ==\'settings.blacklist\'"\n                          md-ink-ripple\n                          pip-id="{{:: tab.state }}">\n                <p>{{::tab.title | translate}}</p>\n            </md-list-item>\n        </md-list>\n\n        <div class="pip-content-container" ng-if="selected.tab">\n            <pip-dropdown class="hide-gt-xs"\n                          pip-actions="tabs"\n                          pip-dropdown-select="onDropdownSelect"\n                          pip-active-index="selected.tabIndex"></pip-dropdown>\n\n            <div class="pip-body tp24-flex layout-column" ui-view></div>\n        </div>\n    </div>\n    <div class="layout-column layout-align-center-center flex"\n         ng-show="manager === false || !tabs || tabs.length < 1">\n        {{::\'ERROR_400\' | translate}}\n    </div>\n</pip-document>')}])}(),function(n){try{n=angular.module("pipSettings.Templates")}catch(e){n=angular.module("pipSettings.Templates",[])}n.run(["$templateCache",function(n){n.put("user_settings/user_settings_basic_info.html",'<form name="form" class="w-stretch" novalidate>\n    <md-progress-linear class="pip-progress-top"\n                        ng-show="transaction.busy()"\n                        md-mode="indeterminate"></md-progress-linear>\n    <div class="layout-row bm12">\n        <div class="md-tile-left">\n            <pip-avatar-edit pip-party-id="$party.id"\n                             pip-created="onPictureCreated($event)"\n                             pip-changed="onPictureChanged($control, $event)">\n            </pip-avatar-edit>\n        </div>\n        <div class="md-tile-content tp0 layout-align-center">\n            <h3 class="tm16 bm8 text-one-line">{{ nameCopy }}</h3>\n\n            <p class="text-primary text-overflow m0">\n                {{::\'SETTINGS_BASIC_INFO_FROM\' | translate}}\n                {{$user.signup | formatLongDate }}\n            </p>\n        </div>\n    </div>\n\n    <md-input-container class="md-block">\n        <label>{{::\'SETTINGS_BASIC_INFO_FULL_NAME\' | translate}}</label>\n        <input name="fullName" step="any" type="text" tabindex="0" required\n               ng-model="$party.name"\n               ng-disabled="transaction.busy()"\n               ng-change="onChangeBasicInfo()"/>\n\n        <div class="hint"\n             ng-if="errorsWithHint(form, form.fullName).hint">\n            {{::\'ERROR_FULLNAME_INVALID\' | translate}}\n        </div>\n    </md-input-container>\n\n    <md-input-container class="md-block bm0">\n        <label>{{::\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\' | translate}}</label>\n        <input name="email" type="email" required\n               ng-model="$party.email"\n               ng-change="onChangeBasicInfo()"\n               pip-email-unique="{{$party.email}}"/>\n\n        <div class="hint"\n             ng-if="errorsWithHint(form, form.email).hint && !$user.email_ver">\n            {{::\'SETTINGS_BASIC_INFO_VERIFY_HINT\' | translate}}\n        </div>\n        <div ng-messages="errorsWithHint(form.email)" ng-hide=" $party.type ==\'team\'">\n            <div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate}}</div>\n            <div ng-message="emailUnique">{{::\'ERROR_EMAIL_INVALID\' | translate}}</div>\n        </div>\n    </md-input-container>\n\n    <md-button class="md-raised bm16 tm8 rm8"\n               ng-click="onVerifyEmail($event)"\n               ng-hide="$user.email_ver || $party.type ==\'team\'">\n        {{::\'SETTINGS_BASIC_INFO_VERIFY_CODE\' | translate}}\n    </md-button>\n\n    <md-button ng-click="onChangePassword($event)" class="md-raised bm16 tm8" ng-hide="$party.type ==\'team\'">\n        {{::\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\' | translate}}\n    </md-button>\n\n    <md-input-container class="md-block flex">\n        <label>{{::\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\' | translate }}</label>\n        <textarea ng-model="$party.about" columns="1"\n                  ng-change="onChangeBasicInfo()"></textarea>\n    </md-input-container>\n\n    <md-input-container class="md-block" ng-hide="$party.type ==\'team\'">\n        <label>{{::\'GENDER\' | translate}}</label>\n        <md-select ng-model="$party.gender" ng-change="onChangeBasicInfo()"\n                   placeholder="{{\'GENDER\' | translate}}">\n            <md-option ng-value="gender.id" ng-repeat="gender in genders">{{gender.name}}</md-option>\n        </md-select>\n    </md-input-container>\n\n    <div ng-hide="$party.type ==\'team\'">\n        <p class="text-caption text-grey tm0 bm0">{{::\'SETTINGS_BASIC_INFO_BIRTHDAY\' | translate}}</p>\n        <pip-date ng-model="$party.birthday"\n                  ng-change="onChangeBasicInfo()"\n                  pip-time-mode="past\n                  time-mode="past"></pip-date>\n    </div>\n\n    <md-input-container class="md-block"\n                        ng-hide="$party.type ==\'team\'">\n        <label>{{::\'LANGUAGE\' | translate}}</label>\n        <md-select placeholder="{{\'LANGUAGE\' | translate}}"\n                   ng-model="$user.language"\n                   ng-change="onChangeUser()">\n            <md-option ng-value="language.id"\n                       ng-repeat="language in languages">\n                {{language.name}}\n            </md-option>\n        </md-select>\n    </md-input-container>\n\n    <md-input-container class="md-block"\n                        ng-if="$party.type !=\'team\'">\n        <label>{{::\'THEME\' | translate}}</label>\n        <md-select class="w-stretch theme-text-primary"\n                   ng-model="$user.theme"\n                   ng-change="onChangeUser()"\n                   ng-disabled="transaction.busy()">\n            <md-option ng-value="theme"\n                       ng-repeat="theme in themes"\n                       ng-selected="$theme == theme ? true : false">\n                {{ theme | translate }}\n            </md-option>\n        </md-select>\n    </md-input-container>\n    <pip-location-edit class="map-edit bm24-flex"\n                       ng-hide="$party.type ==\'team\'"\n                       pip-changed="onChangeBasicInfo()"\n                       pip-location-name="$party.loc_name"\n                       pip-location-pos="loc_pos">\n    </pip-location-edit>\n</form>\n')}])}(),function(n){try{n=angular.module("pipSettings.Templates")}catch(e){n=angular.module("pipSettings.Templates",[])}n.run(["$templateCache",function(n){n.put("user_settings/user_settings_change_password.html",'<md-dialog class="pip-dialog layout-column"  width="440">\n    <form name="form" ng-submit="onApply()" >\n    <div class="pip-header">\n        <h3 class="m0">\n            {{::\'SETTINGS_CHANGE_PASSWORD_TITLE\' | translate : module}}\n        </h3>\n    </div>\n    <div class="pip-body">\n        <div class="pip-content">\n            <div class="text-error bm8"\n                 ng-messages="form.$serverError">\n                <div ng-message="ERROR_UNKNOWN">\n                    {{ form.$serverError.ERROR_UNKNOWN | translate }}\n                </div>\n            </div>\n\n            <md-input-container class="md-block">\n                <label>{{::\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\' | translate }}</label>\n                <input name="oldPassword" type="password"\n                       ng-model="changePasData.old_password"\n                       ng-required="change_password.$submitted"\n                       pip-clear-errors/>\n\n                <div ng-messages="errorsWithHint(form, form.oldPassword)">\n                    <div ng-message="required">\n                        {{::\'ERROR_REQUIRED\' | translate }}\n                    </div>\n                    <div ng-message="ERROR_1107">\n                        {{::\'ERROR_WRONG_PASSWORD\' | translate }}\n                    </div>\n                </div>\n\n            </md-input-container>\n\n            <md-input-container class="md-block">\n                <label>{{\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\' | translate }}</label>\n                <input name="newPassword" type="password"\n                       ng-model="changePasData.new_password"\n                       ng-change="onCheckRepeatPassword()"\n                       ng-required="change_password.$submitted"\n                       ng-minlength="6"\n                       pip-clear-errors/>\n                <div class="hint"\n                     ng-if="errorsWithHint(form, form.newPassword).hint">\n                    {{ \'HINT_PASSWORD\' | translate }}\n                </div>\n                <div ng-messages="errorsWithHint(form, form.newPassword)">\n                    <div ng-message="required">\n                        {{::\'ERROR_REQUIRED\' | translate}}\n                    </div>\n                    <div ng-message="minlength">\n                        {{::\'HINT_PASSWORD\' | translate }}\n                    </div>\n                    <div ng-message="ERROR_1105">\n                        {{::\'ERROR_IDENTICAL_PASSWORDS\' | translate }}\n                    </div>\n                </div>\n            </md-input-container>\n\n            <md-input-container class="md-block">\n                <label>{{ \'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\' | translate }}</label>\n                <input name="repeat"  type="password"\n                       ng-model="repeat"\n                       ng-change="onCheckRepeatPassword()"\n                       ng-required="change_password.$submitted"\n                       ng-minlength="6" />\n\n                <div class="hint"\n                     ng-if="errorsRepeatWithHint(form.repeat).hint">\n                    {{::\'HINT_REPEAT_PASSWORD\' | translate }}\n                </div>\n\n                <div ng-messages="errorsRepeatWithHint(form.repeat)">\n                    <div ng-message="required">{{::\'ERROR_REQUIRED\' | translate }}</div>\n                    <div ng-message="minlength">{{::\'HINT_PASSWORD\' | translate }}</div>\n                    <div ng-message="repeat">{{::\'REPEAT_PASSWORD_INVALID\' | translate }}</div>\n                </div>\n\n            </md-input-container>\n        </div>\n    </div>\n    <div class="pip-footer">\n        <div>\n            <md-button aria-label="xxx"\n                       ng-click="onCancel()">\n                {{::\'CANCEL\' | translate }}\n            </md-button>\n            <md-button type="submit" class="md-accent" aria-label="xxx">\n                {{::\'APPLY\' | translate : module}}\n            </md-button>\n        </div>\n    </div>\n    </form>\n</md-dialog>\n\n\n\n\n')}])}(),function(n){try{n=angular.module("pipSettings.Templates")}catch(e){n=angular.module("pipSettings.Templates",[])}n.run(["$templateCache",function(n){n.put("user_settings/user_settings_sessions.html",'\n    <md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top">\n    </md-progress-linear>\n    <div class="pip-details-title pip-sessions">\n        <p class="pip-title bm16">\n            {{::\'SETTINGS_ACTIVE_SESSIONS_TITLE\' | translate}}\n        </p>\n\n        <p class="pip-subtitle">\n            {{::\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\' | translate}}\n        </p>\n    </div>\n\n\n<md-list class="w-stretch">\n    <div ng-repeat="session in sessions" >\n        <div class="layout-row"\n             ng-init="showBlock = session.id != sessionId"\n             ng-click="showBlock = !showBlock" >\n            <p class="m0 text-subhead2 text-overflow max-w50-stretch">\n                {{::session.client}}\n            </p>\n            <p class="m0 lp4 text-body1 color-secondary-text flex">\n                {{::\'SETTINGS_ACTIVE_SESSION_ACTIVE\' | translate}}\n            </p>\n            <p class="m0 text-body1 color-secondary-text">\n                {{::country}}\n                <md-icon ng-if="showBlock" md-svg-icon="icons:triangle-up"></md-icon>\n                <md-icon ng-if="!showBlock" md-svg-icon="icons:triangle-down"></md-icon>\n            </p>\n        </div>\n        <div class="layout-row bm8 bp8" ng-class="{\'divider-bottom\':!$last}" >\n            <div class="flex-50">\n                <p class="m0 bm4 text-body1 text-overflow color-secondary-text ">\n                    {{session.last_req | date : \'medium\'}}\n                </p>\n                <p class="m0 bm4 text-body1 text-overflow color-secondary-text"\n                   ng-show="showBlock">\n                    {{::\'SETTINGS_ACTIVE_SESSION_OS\' | translate}}{{::session.platform}}</p>\n                <p class="m0 bm4 text-body1 text-overflow color-secondary-text"\n                   ng-show="showBlock">\n                    {{::\'SETTINGS_ACTIVE_SESSION_IP\' | translate}}{{::session.address}}\n                </p>\n                <md-button class="md-raised"\n                           ng-show="showBlock && session.id != sessionId"\n                           ng-click="onRemove(session)">\n                    {{::\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\' | translate}}\n                </md-button>\n            </div>\n\n            <pip-location-ip class="map-edit flex-50" ng-if="showBlock"\n                             pip-ipaddress="session.address"\n                             pip-extra-info="country = extraInfo.country">\n            </pip-location-ip>\n        </div>\n\n    </div>\n</md-list>\n<div class="layout-row layout-align-end-center">\n    <md-button class="md-raised"\n               ng-show="sessions.length > 1"\n               ng-click="onRemoveAll()">\n        {{::\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\' | translate}}\n    </md-button>\n</div>\n')}])}(),function(n){try{n=angular.module("pipSettings.Templates")}catch(e){n=angular.module("pipSettings.Templates",[])}n.run(["$templateCache",function(n){n.put("user_settings/user_settings_verify_email.html",'<md-dialog class="pip-dialog layout-column"  width="440">\n    <div class="pip-body">\n        <div class="pip-content">\n                <md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top" >\n                </md-progress-linear>\n\n                <h2>{{::\'VERIFY_EMAIL_TITLE\' | translate}}</h2>\n\n                <p class="title-padding">{{::\'VERIFY_EMAIL_TEXT_1\' | translate}} </p>\n\n                <form name=\'form\' novalidate>\n                    <div ng-messages="form.$serverError" class="text-error bm8">\n                        <div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div>\n                    </div>\n\n                    <md-input-container class="display  bp4 md-block" >\n                        <label>{{::\'EMAIL\' | translate}}</label>\n                        <input name="email" type="email" ng-model="data.email" required step="any"\n                               pip-clear-errors  tabindex="1"\n                               ng-disabled="transaction.busy()"\n                               pip-test="input-email"/>\n                        <div class="hint" ng-if="errorsWithHint(form, form.email).hint">{{::\'HINT_EMAIL\' | translate}}</div>\n                        <div ng-messages="errorsWithHint(form, form.email)"\n                             xng-if="!form.email.$pristine">\n                            <div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div>\n                            <div ng-message="ERROR_1106">{{::\'ERROR_USER_NOT_FOUND\' | translate}}</div>\n                        </div>\n                    </md-input-container>\n\n                    <md-input-container class="md-block">\n                        <label>{{::\'ENTRY_VERIFICATION_CODE\' | translate}}</label>\n                        <input name="code" ng-disabled="transaction.busy()" tabindex="0"\n                               ng-model="data.code" required pip-clear-errors/>\n                        <div ng-messages="errorsWithHint(form, form.code)">\n                            <div ng-message="required"> {{::\'ERROR_CODE_INVALID\' | translate }}</div>\n                            <div ng-message="ERROR_1103"> {{::\'ERROR_CODE_WRONG\' | translate }}</div>\n                        </div>\n                    </md-input-container>\n\n                    <p>\n                        {{::\'VERIFY_EMAIL_TEXT_21\' | translate}}\n                        <a ng-click="onRequestVerificationClick()" class="pointer" tabindex="0">{{::\'VERIFY_EMAIL_RESEND\' | translate}}</a>\n                        {{::\'VERIFY_EMAIL_TEXT_22\' | translate}}\n                    </p>\n                </form>\n            </div>\n        </div>\n        <div class="pip-footer">\n            <md-button ng-click="onCancel()" ng-hide="transaction.busy()" aria-label="xxx">\n                {{::\'CANCEL\' | translate}}\n            </md-button>\n            <md-button class="md-accent" ng-click="onVerify()" ng-hide="transaction.busy()" tabindex="0" aria-label="xxx"\n                ng-disabled="data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)">\n                {{::\'VERIFY\' | translate}}\n            </md-button>\n            <md-button class="md-warn" ng-show="transaction.busy()" ng-click="transaction.abort()" tabindex="0" aria-label="xxx">\n                {{::\'CANCEL\' | translate}}\n            </md-button>\n\n        </div>\n</md-dialog>');
}])}()},{}]},{},[2,3,1,5,6,7,8,9,4,10]);
//# sourceMappingURL=pip-webui-settings.min.js.map

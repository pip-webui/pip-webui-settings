{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","settings","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","SettingsPageSelectedTab_1","SettingsPageController","$state","pipNavService","pipSettings","$rootScope","$timeout","_this","tabs","_","filter","getTabs","tab","visible","access","sortBy","selected","SettingsPageSelectedTab","current","name","initSelect","getDefaultTab","state","icon","showMenu","breadcrumb","text","actions","hide","appbar","removeShadow","onDropdownSelect","onNavigationSelect","$inject","prototype","find","tabIndex","indexOf","tabId","go","../service/SettingsPageSelectedTab","3","configureSettingsPageRoutes","$stateProvider","url","auth","controllerAs","controller","templateUrl","defineProperty","value","SettingsConfig","titleText","titleLogo","isNavIcon","Object","SettingsConfig_1","SettingsService","config","_config","getFullStateName","setDefaultTab","defaultTab","cloneDeep","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","undefined","SettingsProvider","addTab","tabObj","existingTab","validateTab","push","title","index","stateConfig","isObject","isFunction","$get","isNull","_service","isUndefined","provider","9","SettingsStateConfig","10","SettingsTab","m","p","hasOwnProperty","./SettingsConfig","./SettingsPageSelectedTab","./SettingsService","./SettingsStateConfig","./SettingsTab","12","run","$templateCache","put"],"mappings":"CAAA,SAAAA,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAC,SAAAX,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,+HCAAmB,EAAA,aACAA,EAAA,UAEAQ,QAAQ1B,OAAO,eACX,sBACA,qBAGJ2B,EAAAT,EAAA,4HCNA,IAAAU,GAAAV,EAAA,sCASAW,EAAA,mBAKIA,GAwCCC,EAAAC,EAAAC,EAAAC,EAAAC,GAvCW,GAAAC,GAAM5B,IAOdA,MAAKuB,OAASA,OACNM,KAAQC,EAAAC,OAAON,EAAcO,UAAU,SAAOC,MAC1CA,EAAAC,WAAW,KAAAD,EAAAE,QAAAF,EAAAE,OAAAT,EAAA,MAAAO,IACd,MAAAA,KAKTjC,KAAK6B,KAAAC,EAAQM,OAAOpC,KAAA6B,KAAA,SACpB7B,KAAIqC,SAAY,GAAAhB,GAA8BiB,wBACd,aAA5BtC,KAAKuB,OAAAgB,QAAeC,KACvBxC,KAAAyC,WAAAzC,KAAAuB,OAAAgB,QAAAC,MAC+B,aAAvBxC,KAAAuB,OAAWgB,QAAAC,MAA4Bf,EAAOiB,gBACtD1C,KAAAyC,WAAAhB,EAAAiB,gBAAAC,SAEW,WACAlB,EAAKiB,iBACRd,EAAAa,WAAAhB,EAAAiB,gBAAAC,QAEIlB,EAAKiB,iBAAwBd,EAAOC,KAAAZ,OAAA,GACxCW,EAAAa,WAAAb,EAAAC,KAAA,GAAAc,SAKTnB,EAAcoB,KAAAC,WACdrB,EAAcsB,WAAQC,KAAO,WAC7BvB,EAAcwB,QAAOC,OAErBzB,EAAK0B,OAAgBC,oBACjBC,iBAAK,SAAwBT,GAChCf,EAAAyB,mBAAAV,EAAAA,QA5CT,MAKIrB,GAAAgC,SACY,SACR,gBACA,cACA,aACiC,cAsChBC,UAAUd,WAAW,SAAiBE,QACnDN,SAAUJ,IAAMH,EAAA0B,KAAKxD,KAAM6B,KAAA,SAAAI,GAC5B,MAAAA,GAAAU,QAAAA,IAEH3C,KAAKqC,SAASoB,SAAQ3B,EAAK4B,QAAC1D,KAAA6B,KAAA7B,KAAAqC,SAAAJ,KAC5BjC,KAAKqC,SAASsB,MAAMhB,EACvB3C,KAAAuB,OAAAqC,GAAA5D,KAAAqC,SAAAsB,UAGmBJ,UAAOF,mBAAA,SAAAV,GAEvB3C,KAAIyC,WAAKE,GACL3C,KAAKqC,SAASJ,KACjBjC,KAAAuB,OAAAqC,GAAAjB,IAERrB,aAII7B,OAAA,gEC9EJoE,qCAAA,IAAAC,GAAA,SAAAnD,EAAAlB,EAAAD,WAGYuE,GAAkBC,KAEfrB,MAAM,YACNsB,IAAA,qBACAC,MAAA,EACAC,aAAa,KACdC,WAAA,4BAEVC,YAAA,6BATiBf,SAAA,kBAarBnC,QAAA1B,OAAA,sDCfD,oBACI6E,eAAW9E,EAAA,cAAA+E,OAAA,YACX9E,OAAA,oBACA,YACA,sBACA,SACA,cACG,eAGP,iOCRA,oBAAA6E,eAAA9E,EAAA,cAAA+E,OAAA,UAEmC,mBACxBC,KACAxE,KAAA6B,QACA7B,KAAAyE,UAAqB,iBAC/BzE,KAAA0E,UAAA,KAAD1E,KAAA2E,WAAC,EANY,MAAAH,iDCAb,oBAAAF,eAAA9E,EAAA,cAAA+E,OAAA,UAEgC,WAEhC,QAACjC,KAADtC,KAAAyD,SAAA,EAJa,MAAAnB,0DCDb,YAIAsC,QAAAN,eAAA9E,EAAA,cAAA+E,OAAA,OAGIM,GAAAlE,EAAmB,sBACJ,WAEf,QAACmE,GAAAC,GAEO,UACJ/E,MAAAgF,QAAOD,EA0DX,SA9DgBzB,SAAU,UAOnBwB,EAAAvB,UAAA0B,iBAAP,SAAqBtC,GACjB,MAAO,YAAUA,KAEZY,UAAA2B,cAAA,SAAA1C,OACDV,EAAA0B,KAAMxD,KAAIgF,QAAMnD,KAAA,SAAAI,GACnB,MAAAA,GAAAU,QAAA,YAAAH,IAGJ,KAAA,IAAA3B,OAAA,wBAAA2B,EAAA,sBAEDxC,MAAAgF,QAAAG,WAOCnF,KAAAiF,iBAAAzC,MAJae,UAAUb,cAAiB,cAElCyC,GADCvD,EAAO5B,IAMX,OAJAmF,GAASrD,EAAA0B,KAAUxD,KAAAgF,QAAYnD,KAAA,SAAAI,GAClC,MAAAA,GAAAU,QAAAf,EAAAoD,QAAAG,aAGOrD,EAAAsD,UAAeD,MAEV5B,UAAQ8B,cAAiB,SAAAC,GAOlC,MANCA,KAEDtF,KAAOgF,QAAKP,UAAiBa,EAChCtF,KAAAgF,QAAAN,UAAA,MAGO1E,KAAAgF,QAAeP,aAEVlB,UAAQgC,cAAiB,SAAAC,GAOlC,MANCA,KAEDxF,KAAOgF,QAAKN,UAAiBc,EAChCxF,KAAAgF,QAAAP,UAAA,MAGOzE,KAAKgF,QAASN,aAEjBnB,UAAAkC,YAAA,SAAAlB,GAMD,MAJY,QAAZA,GAA8BmB,SAAVnB,IACvBvE,KAAAgF,QAAAL,YAAAJ,GAGUvE,KAAEgF,QAAUL,WAG3BG,EAAAvB,UAACvB,QAAA,WAAA,MAAAF,GAAAsD,UAAApF,KAAAgF,QAAAnD,OAMGiD,OAFkC,WAI3B,QAAAa,GAAA3B,GACHhE,KAAAgE,eAAqBA,EACxBhE,KAAAgF,QAAA,GAAAH,GAAAL,qBAJ0DmB,GAACrC,SAAA,oBAOpDC,UAAwB0B,iBAAA,SAAAtC,GAE5B,MAAA,YAAoBA,KAEjBY,UAAAb,cAAA,WAEH,GAAAyC,EAMA,OALHA,GAAArD,EAAA0B,KAAAxD,KAAAgF,QAAAnD,KAAA,SAAAI,GAEM,MAAAA,GAAAU,QAAAwC,EAAPxC,QAGSb,EAAAsD,UAAYD,MAEN5B,UAASqC,OAAK,SAAcC,GACvC,GAAGC,MACH9F,KAAI+F,YAAaF,KACH/D,EAAA0B,KAAMxD,KAAAgF,QAAAnD,KAAA,SAA0BI,GAC7C,MAAAA,GAAAU,QAAA,YAAAkD,EAAAlD,QAIG,KAAK,IAAE9B,OAAO,wBAAKgF,EAAAlD,MAAA,gCAEnBqC,QAAQnD,KAAMmE,MACdrD,MAAO3C,KAAEiF,iBAAmBY,EAAKlD,OACjCsD,MAAAJ,EAAcI,MACfC,MAAAL,EAAAK,OAAA,IACC/D,OAAC0D,EAAc1D,OAGfD,QAAO2D,EAAK3D,WAAQ,EACpBiE,YAAKrE,EAAAsD,UAAoBS,EAAOM,eAEvCnG,KAAAgE,eAAArB,MAAA3C,KAAAiF,iBAAAY,EAAAlD,OAAAkD,EAAAM,aAED,mBAAOnG,MAAAgF,QAAAG,YAA0B,IAAAnF,KAAAgF,QAAAnD,KAAAZ,QAEzBjB,KAAGkF,cAAUW,EAAYlD,UAGnBY,UAAU2B,cAAA,SAA0B1C,GAC9C,IAACV,EAAA0B,KAAAxD,KAAAgF,QAAAnD,KAAA,SAAAI,GAEG,MAACA,GAAQU,QAAU,YAAQH,IAU3B,KAAA,IAAA3B,OAAA,wBAAR2B,EAAuC,4BAE/BwC,QAAMG,WAAUnF,KAAAiF,iBAAkBzC,MAG3Be,UAAUwC,YAAe,SAAUF,OAC1CA,IAAU/D,EAAAsE,SAAMP,GACnB,KAAA,IAAAhF,OAAA,qBAGmB,OAAhBgF,EAAMlD,OAAU,KAAAkD,EAAAlD,MACnB,KAAA,IAAA9B,OAAA,yDAGGgF,EAAM1D,SAAUL,EAAAuE,WAAAR,EAAA1D,QACnB,KAAA,IAAAtB,OAAA,gCAGE,KAAAgF,EAAAM,cAAArE,EAAAsE,SAAPP,EAAAM,aACQ,KAAA,IAAAtF,OAAe,yCAGlB0C,UAAA8B,cAAA,SAAAC,SAEDA,KACHtF,KAAAgF,QAAAP,UAAAa,EAEMtF,KAAAgF,QAAAN,UAAA,MAEC1E,KAAKgF,QAAQP,aAEhBlB,UAAAgC,cAAA,SAAAC,SAEDA,KACHxF,KAAAgF,QAAAN,UAAAc,EAEMxF,KAAAgF,QAAAP,UAAA,MAECzE,KAAKgF,QAAQN,aAGLnB,UAAQkC,YAAU,SAAAlB,GAM9B,MALH,QAAAA,GAAAmB,SAAAnB,IAEMvE,KAAAgF,QAAAL,YAAPJ,GAGUvE,KAAMgF,QAAML,aAEjBpB,UAAA+C,KAAA,WAED,UAID,QAHFxE,EAAAyE,OAAAvG,KAAAwG,WAAA1E,EAAA2E,YAAAzG,KAAAwG,aACLxG,KAAAwG,SAAC,GAAA1B,GAAA9E,KAAAgF,UAEMhF,KAAAwG,UAEFb,2CC9LLe,SAAA,cAAAf,wBAAA,IAAAgB,GAAA,SAAAhG,EAAAlB,EAAAD,uBAKC8E,eAAA9E,EAAA,cAAA+E,OAAA,OAADqC,GAAA,WALA,QAKCA,KALY5G,KAAAkE,MAAA,aCEb1E,GAAAoH,oBAAAA,OAAAC,IAAA,SAAAlG,EAAAlB,EAAAD,uBAOA8E,eAAC9E,EAAA,cAAA+E,OAAA,GAAD,IAPAuC,GAOC,WAPY,QAAAA,uECFb,SAAQ1F,GAAO2F,GAEf,IAAA,GAAAC,KAAAD,GAAAvH,EAA0ByH,eAAAD,KAAAxH,EAAAwH,GAAAD,EAAAC,IAE1BpC,OAAAN,eAAA9E,EAAA,cAA+B+E,OAAA,IAC/BpD,QAAA1B,OAAA,0BACAkB,EAAA,oBAEAA,EAAA,6BACAA,EAAA,yBACAA,EAAA,iBACAA,EAAA,8CCXAS,EAAAT,EAAA,8BACAS,EAAAT,EAAA,0BACAS,EAAAT,EAAA,oBACAuG,mBAAA,EAAAC,4BAAA,EAAAC,oBAAA,EAAAC,wBAAA,EAAAC,gBAAA,KAAAC,IAAA,SAAA5G,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAA0B,QAAA1B,OAAA,yBACA,MAAAU,GACAV,EAAA0B,QAAA1B,OAAA,4BAEAA,EAAA+H,KAAA,iBAAA,SAAAC,GACAA,EAAAC,IAAA,yBACA","file":"pip-webui-settings.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import './service';\r\nimport './page';\r\n\r\nangular.module('pipSettings', [\r\n    'pipSettings.Service',\r\n    'pipSettings.Page'\r\n]);\r\n\r\nexport * from './service';","import { ISettingsService } from '../service/ISettingsService';\r\nimport { SettingsTab } from '../service/SettingsTab';\r\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\r\n\r\ninterface ISettingsPageController {\r\n    tabs: SettingsTab[];\r\n    selected: SettingsPageSelectedTab;\r\n    onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass SettingsPageController implements ISettingsPageController {\r\n    public tabs: SettingsTab[];\r\n    public selected: SettingsPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        private $state: ng.ui.IStateService,\r\n        pipNavService: pip.nav.INavService,\r\n        pipSettings: ISettingsService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService\r\n    ) {\r\n\r\n        this.tabs = _.filter(pipSettings.getTabs(), (tab: SettingsTab) => {\r\n                if (tab.visible === true && (tab.access ? tab.access($rootScope['$user'], tab) : true)) {\r\n                    return tab;\r\n                }\r\n            });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new SettingsPageSelectedTab();\r\n        if (this.$state.current.name !== 'settings') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'settings' && pipSettings.getDefaultTab()) {\r\n            this.initSelect(pipSettings.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipSettings.getDefaultTab()) {\r\n                    this.initSelect(pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                     this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Settings\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this.$state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n","{\r\n    function configureSettingsPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('settings', {\r\n                url: '/settings?party_id',\r\n                auth: true,\r\n                controllerAs: 'vm',\r\n                controller: 'pipSettingsPageController',\r\n                templateUrl: 'page/SettingsPage.html'\r\n            });\r\n\r\n    }\r\n\r\n    angular.module('pipSettings.Page')\r\n        .config(configureSettingsPageRoutes);\r\n}\r\n","angular.module('pipSettings.Page', [\r\n    'ui.router', \r\n    'pipSettings.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipSettings.Templates'\r\n    ]);\r\n\r\n\r\nimport './SettingsPage';\r\nimport './SettingsPageRoutes';","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsConfig {\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsPageSelectedTab {\r\n    public tab: SettingsTab;\r\n    public tabIndex: number = 0;\r\n    public tabId: string;\r\n}","import { SettingsTab } from './SettingsTab';\r\nimport { SettingsConfig } from './SettingsConfig';\r\nimport { ISettingsService } from './ISettingsService';\r\nimport { ISettingsProvider } from './ISettingsService';\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n\r\n    public constructor(config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): SettingsTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: SettingsTab): void {\r\n        let existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //console.log(this.$stateProvider);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n    private validateTab(tabObj: SettingsTab): void {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): ISettingsService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new SettingsService(this._config);\r\n        }\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","export class SettingsStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}","import { SettingsStateConfig } from './SettingsStateConfig';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: SettingsStateConfig;\r\n}\r\n","angular.module('pipSettings.Service', []);\r\n\r\nimport './SettingsConfig';\r\nimport './SettingsPageSelectedTab';\r\nimport './SettingsStateConfig';\r\nimport './SettingsTab';\r\nimport './SettingsService';\r\n\r\nexport * from './SettingsConfig';\r\nexport * from './SettingsPageSelectedTab';\r\nexport * from './SettingsStateConfig';\r\nexport * from './SettingsTab';\r\nexport * from './SettingsService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n"]}
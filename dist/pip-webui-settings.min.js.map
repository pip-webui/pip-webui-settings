{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/SettingsModule.ts","src/settings.ts","src/settings_page/SettingsPageController.ts","src/settings_page/SettingsPageRoutes.ts","src/settings_page/index.ts","src/settings_service/SettingsService.ts","src/settings_service/index.ts","src/user_settings/user_settings.ts","src/user_settings/user_settings_basic_info.ts","src/user_settings/user_settings_change_password.ts","src/user_settings/user_settings_sessions.ts","src/user_settings/user_settings_strings.ts","src/user_settings/user_settings_verify_email.ts","temp/pip-webui-settings-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","settings","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","SettingsPageSelectedTab","tabIndex","SettingsPageController","$state","pipNavService","pipSettings","$rootScope","$timeout","_this","tabs","_","filter","getTabs","tab","visible","access","sortBy","selected","current","name","initSelect","getDefaultTab","state","icon","showMenu","breadcrumb","text","actions","hide","appbar","removeShadow","onDropdownSelect","onNavigationSelect","$inject","prototype","find","indexOf","tabId","go","controller","4","configureSettingsPageRoutes","$stateProvider","url","auth","controllerAs","templateUrl","config","defineProperty","value","SettingsTab","SettingsStateConfig","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsService","_config","getFullStateName","setDefaultTab","defaultTab","cloneDeep","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","undefined","SettingsProvider","addTab","tabObj","existingTab","validateTab","push","title","index","stateConfig","isObject","isFunction","$get","isNull","_service","provider","8","Object","9","pipSettingsProvider","$scope","$mdDialog","$window","$mdTheming","pipTranslate","pipTransaction","pipTheme","pipToasts","pipDataUser","pipDataParty","pipFormErrors","onPictureChanged","picture","save","$broadcast","error","onPictureCreated","$event","sender","saveChanges","form","$setSubmitted","$party","type","$invalid","loc_pos","party","toJson","err","originalParty","tid","transaction","begin","updateParty","data","aborted","end","nameCopy","message","String","status","status_code","fromJson","$user","id","updateUser","item","use","language","theme","setCurrentTheme","showNotification","translate","onChangePassword","event","show","email","answer","onVerifyEmail","targetEvent","user","email_ver","genders","translateSet","languages","themes","keys","omit","THEMES","get","onExit","errorsWithHint","debounce","onChangeBasicInfo","11","onCancel","cancel","repeat","changePasData","new_password","showRepeatHint","$setValidity","onApply","onCheckRepeatPassword","changePassword","setFormError","1107","1105","errorsRepeatWithHint","formPart","thisModule","pipDataSessionProvider","resolve","sessions","readSessionsResolver","sessionId","readSessionIdResolver","pipDataSession","eachSeries","session","callback","removeSession","without","onRemove","onRemoveAll","13","pipTranslateProvider","translations","SETTINGS_TITLE","SETTINGS_BASIC_INFO_TITLE","SETTINGS_ACTIVE_SESSIONS_TITLE","SETTINGS_BASIC_INFO_FULL_NAME","SETTINGS_BASIC_INFO_VERIFY_HINT","SETTINGS_BASIC_INFO_VERIFY_CODE","SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_NAME_HINT","SETTINGS_BASIC_INFO_WORDS_ABOUT_ME","SETTINGS_BASIC_INFO_GENDER","SETTINGS_BASIC_INFO_BIRTHDAY","SETTINGS_BASIC_INFO_LOCATION","SETTINGS_BASIC_INFO_PRIMARY_EMAIL","SETTINGS_BASIC_INFO_FROM","SETTINGS_BASIC_INFO_USER_ID","SETTINGS_CHANGE_PASSWORD_TITLE","SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD","SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD","SETTINGS_ACTIVE_SESSIONS_SUBTITLE","SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION","SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS","SETTINGS_ACTIVE_SESSION_OS","SETTINGS_ACTIVE_SESSION_ACTIVE","SETTINGS_BLACKLIST_TITLE","SETTINGS_BLACKLIST_SUBTITLE","SETTINGS_BLACKLIST_UNBLOCK","SETTINGS_BLACKLIST_EMPTY","SETTINGS_CONTACT_INFO_TITLE","SETTINGS_CONTACT_INFO_EMAIL","SETTINGS_CONTACT_INFO_ADD_EMAIL","SETTINGS_CONTACT_INFO_ADD_PHONE","SETTINGS_CONTACT_INFO_ADD_ADDRESS","SETTINGS_CONTACT_INFO_ADD_ACCOUNT","SETTINGS_CONTACT_INFO_ADD_URL","SETTINGS_CONTACT_INFO_ADDRESS","SETTINGS_CONTACT_INFO_PHONE","SETTINGS_CONTACT_INFO_ACCOUNT_NAME","SETTINGS_CONTACT_INFO_URL","THEME","HINT_PASSWORD","HINT_REPEAT_PASSWORD","ERROR_WRONG_PASSWORD","ERROR_IDENTICAL_PASSWORDS","REPEAT_PASSWORD_INVALID","ERROR_EMAIL_INVALID","14","onAbort","abort","requestEmailVerification","result","onVerify","verifyEmail","verifyData","1106","1103","emailVerified","onRequestVerificationClick","15","run","$templateCache","put"],"mappings":"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","file":"pip-webui-settings.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\nimport './settings_service/index';\r\nimport './settings_page/index';\r\n\r\nangular.module('pipSettings', [\r\n    'pipSettings.Service',\r\n    'pipSettings.Page'\r\n]);\r\n\r\nexport * from './settings_service';\r\nexport * from './settings_page';","ï»¿/**\r\n * @file Registration of settings components\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipSettings', [\r\n        'pipSettings.Service',\r\n        'pipSettings.Page'\r\n    ]);\r\n\r\n})();\r\n","// Prevent junk from going into typescript definitions\r\n\r\nimport {ISettingsService, SettingsTab} from '../settings_service/SettingsService';\r\n\r\nexport class SettingsPageSelectedTab {\r\n    public tab: SettingsTab;\r\n    public tabIndex: number = 0;\r\n    public tabId: string;\r\n}\r\n\r\ninterface ISettingsPageController {\r\n    tabs: SettingsTab[];\r\n    selected: SettingsPageSelectedTab;\r\n    onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass SettingsPageController implements ISettingsPageController {\r\n    public tabs: SettingsTab[];\r\n    public selected: SettingsPageSelectedTab;\r\n    public onDropdownSelect: Function;\r\n\r\n    constructor(\r\n        private $state: ng.ui.IStateService,\r\n        pipNavService: pip.nav.INavService,\r\n        pipSettings: ISettingsService,\r\n        $rootScope: ng.IRootScopeService, \r\n        $timeout: angular.ITimeoutService\r\n    ) {\r\n\r\n        this.tabs = _.filter(pipSettings.getTabs(), (tab: SettingsTab) => {\r\n                if (tab.visible === true && (tab.access ? tab.access($rootScope['$user'], tab) : true)) {\r\n                    return tab;\r\n                }\r\n            });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new SettingsPageSelectedTab();\r\n        if (this.$state.current.name !== 'settings') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'settings' && pipSettings.getDefaultTab()) {\r\n            this.initSelect(pipSettings.getDefaultTab().state);\r\n        } else {\r\n            $timeout(() => {\r\n                if (pipSettings.getDefaultTab()) {\r\n                    this.initSelect(pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                     this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n\r\n        pipNavService.icon.showMenu();\r\n        pipNavService.breadcrumb.text = \"Settings\";\r\n        pipNavService.actions.hide();\r\n        pipNavService.appbar.removeShadow();\r\n        \r\n        this.onDropdownSelect = (state) => {\r\n            this.onNavigationSelect(state.state);\r\n        }\r\n    }\r\n\r\n    private initSelect(state: string): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (this.selected.tab) {\r\n            this.$state.go(state);\r\n        }\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\nangular.module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n})();","'use strict';\r\n\r\nfunction configureSettingsPageRoutes($stateProvider) {\r\n    $stateProvider\r\n        .state('settings', {\r\n            url: '/settings?party_id',\r\n            auth: true,\r\n            controllerAs: 'vm',\r\n            controller: 'pipSettingsPageController',\r\n            templateUrl: 'settings_page/SettingsPage.html'\r\n        });\r\n       \r\n}\r\n\r\nangular.module('pipSettings.Page')\r\n    .config(configureSettingsPageRoutes);\r\n","'use strict';\r\n\r\nangular.module('pipSettings.Page', [\r\n    'ui.router', \r\n    'pipSettings.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipSettings.Templates'\r\n    ]);\r\n\r\n\r\nimport './SettingsPageController';\r\nimport './SettingsPageRoutes';","'use strict';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: SettingsStateConfig;\r\n}\r\n\r\nexport class SettingsStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}\r\n\r\nexport interface ISettingsService {\r\n    getDefaultTab(): SettingsTab;\r\n    showTitleText (newTitleText: string): void;\r\n    showTitleLogo(newTitleLogo);\r\n    setDefaultTab(name: string): void;\r\n    showNavIcon(value: boolean): boolean;\r\n    getTabs(): SettingsTab[];\r\n}\r\n\r\nexport interface ISettingsProvider extends ng.IServiceProvider {\r\n    getDefaultTab(): SettingsTab;\r\n    addTab(tabObj: SettingsTab): void;\r\n    setDefaultTab(name: string): void;\r\n    getFullStateName(state: string): string;\r\n}\r\n\r\nexport class SettingsConfig {\r\n\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n\r\n}\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n\r\n    public constructor(config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): SettingsTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n\r\n    constructor(private $stateProvider: ng.ui.IStateProvider) {}\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: SettingsTab) {\r\n        let existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this.$stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n\r\n    private validateTab(tabObj: SettingsTab): void {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText (newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): ISettingsService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isFunction(this._service)) {\r\n            this._service = new SettingsService(this._config);\r\n        }\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service')\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","'use strict';\r\n\r\nangular.module('pipSettings.Service', []);\r\n\r\nimport './SettingsService';","/**\r\n * @file Settings tab logic\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipUserSettings', [\r\n        'ngMaterial', 'pipData',\r\n        'pipSettings.Service',\r\n        'pipSettings.Page',\r\n\r\n        'pipUserSettings.Strings',\r\n        'pipUserSettings.Sessions',\r\n        'pipUserSettings.BasicInfo',\r\n        'pipSettings.Templates'\r\n    ]);\r\n\r\n})();\r\n","/**\r\n * @file Settings basic info controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.BasicInfo',\r\n        ['pipUserSettings.ChangePassword', 'pipUserSettings.VerifyEmail', \r\n            'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'basic_info',\r\n            index: 1,\r\n            title: 'SETTINGS_BASIC_INFO_TITLE',\r\n            stateConfig: {\r\n                url: '/basic_info',\r\n                controller: 'pipUserSettingsBasicInfoController',\r\n                templateUrl: 'user_settings/user_settings_basic_info.html',\r\n                auth: true\r\n            }\r\n        });\r\n\r\n        pipSettingsProvider.setDefaultTab('basic_info');\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n     *\r\n     * @description\r\n     * Controller for the predefined 'basic_info' state.\r\n     * Provides sync changes user's profile with remote profile.\r\n     * On state exit everything is saved on the server.\r\n     */\r\n    thisModule.controller('pipUserSettingsBasicInfoController',\r\n        function ($scope, $rootScope, $mdDialog, $state, $window, $timeout, $mdTheming,\r\n                  pipTranslate, pipTransaction, pipTheme,\r\n                  pipToasts, pipDataUser, pipDataParty, pipFormErrors) {\r\n\r\n            try {\r\n                $scope.originalParty = angular.toJson($rootScope.$party);\r\n            } catch (err) {\r\n                throw err;\r\n            }\r\n\r\n            $scope.nameCopy = $rootScope.$party.name;\r\n\r\n            $timeout(function () {\r\n                $scope.loc_pos = $rootScope.$party.loc_pos;\r\n            });\r\n\r\n            $scope.genders = pipTranslate.translateSet(['male', 'female', 'n/s']);\r\n            $scope.languages = pipTranslate.translateSet(['ru', 'en']);\r\n\r\n            $scope.transaction = pipTransaction('settings.basic_info', $scope);\r\n\r\n            $scope.themes = _.keys(_.omit($mdTheming.THEMES, 'default'));\r\n\r\n            $state.get('settings.basic_info').onExit = saveChanges;\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onChangePassword */\r\n            $scope.onChangePassword = onChangePassword;\r\n            /** @see onVerifyEmail */\r\n            $scope.onVerifyEmail = onVerifyEmail;\r\n            /** @see onPictureCreated */\r\n            $scope.onPictureCreated = onPictureCreated;\r\n            /** @see onPictureChanged */\r\n            $scope.onPictureChanged = onPictureChanged;\r\n            /** @see updateUser */\r\n            $scope.onChangeUser = _.debounce(updateUser, 2000);\r\n            /** @see saveChanges */\r\n            $scope.onChangeBasicInfo = _.debounce(saveChanges, 2000);\r\n\r\n            function onPictureChanged() {\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            function onPictureCreated($event) {\r\n                $scope.picture = $event.sender;\r\n                $scope.picture.save(\r\n                    function () {\r\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\r\n                    },\r\n                    function (error) {\r\n                        return new Error(error);\r\n                    }\r\n                );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeBasicInfo\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the input information.\r\n             * It is updated user's party profile. Also it updates user's profile in $rootScope.\r\n             */\r\n            function saveChanges() {\r\n                if ($scope.form) {\r\n                    $scope.form.$setSubmitted();\r\n                }\r\n\r\n                if ($rootScope.$party) {\r\n\r\n                    if ($rootScope.$party.type === 'person' && $scope.form.$invalid) {\r\n                        return;\r\n                    }\r\n\r\n                    // Check to avoid unnecessary savings\r\n                    $rootScope.$party.loc_pos = $scope.loc_pos;\r\n                    try {\r\n                        var party = angular.toJson($rootScope.$party);\r\n                    } catch (err) {\r\n                        throw err;\r\n                    }\r\n\r\n                    if (party !== $scope.originalParty) {\r\n                        var tid = $scope.transaction.begin('UPDATING');\r\n\r\n                        pipDataParty.updateParty($rootScope.$party,\r\n                            function (data) {\r\n                                if ($scope.transaction.aborted(tid)) {\r\n                                    return;\r\n                                }\r\n                                $scope.transaction.end();\r\n\r\n                                $scope.originalParty = party;\r\n                                $scope.nameCopy = data.name;\r\n                            }, function (error) {\r\n                                $scope.transaction.end(error);\r\n                                $scope.message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                                $rootScope.$party = angular.fromJson($scope.originalParty);\r\n                            }\r\n                        );\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeUser\r\n             *\r\n             * @description\r\n             * Saves changes onto server.\r\n             * This method responses on change of the user's profile information.\r\n             * Also it updates user's profile in $rootScope.\r\n             */\r\n            function updateUser() {\r\n                var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                if ($rootScope.$user.id === $rootScope.$party.id) {\r\n                    pipDataUser.updateUser(\r\n                        {\r\n                            item: $rootScope.$user\r\n                        },\r\n                        function (data) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                            pipTranslate.use(data.language);\r\n                            $rootScope.$user.language = data.language;\r\n                            $rootScope.$user.theme = data.theme;\r\n                            if ($rootScope.$user.theme) {\r\n                                pipTheme.setCurrentTheme($rootScope.$user.theme, true);\r\n                            }\r\n\r\n                        }, function (error) {\r\n                            var message;\r\n                            \r\n                            $scope.transaction.end(error);\r\n                            message = String() + 'ERROR_' + error.status || error.data.status_code;\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangePassword\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onChangePassword(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_change_password.html',\r\n                    controller: 'pipUserSettingsChangePasswordController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        if (answer) {\r\n                            message = String() + 'RESET_PWD_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    });\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\r\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onVerifyEmail\r\n             *\r\n             * @description\r\n             * It opens a dialog panel to change password.\r\n             *\r\n             * @param {Object} event    Triggered event object\r\n             */\r\n            function onVerifyEmail(event) {\r\n                var message;\r\n\r\n                $mdDialog.show({\r\n                    templateUrl: 'user_settings/user_settings_verify_email.html',\r\n                    controller: 'pipUserSettingsVerifyEmailController',\r\n                    targetEvent: event,\r\n                    locals: {email: $rootScope.$party.email}\r\n                }).then(\r\n                    function (answer) {\r\n                        $scope.user.email_ver = answer;\r\n                        if (answer) {\r\n                            message = String() + 'VERIFY_EMAIL_SUCCESS_TEXT';\r\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings change password controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.ChangePassword', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n     *\r\n     * @description\r\n     * Controller for dialog panel of password change.\r\n     */\r\n    thisModule.controller('pipUserSettingsChangePasswordController',\r\n        function ($scope, $rootScope, $mdDialog, email, pipDataUser, pipTransaction, pipFormErrors) {\r\n\r\n            $scope.transaction = pipTransaction('settings.change_password', $scope);\r\n            $scope.errorsRepeatWithHint = function (form, formPart) {\r\n                if ($scope.showRepeatHint) {\r\n                    return pipFormErrors.errorsWithHint(form, formPart);\r\n                }\r\n\r\n                return {};\r\n            };\r\n            $scope.showRepeatHint = true;\r\n            $scope.changePasData = {};\r\n\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            $scope.onCancel = onCancel;\r\n            $scope.onCheckRepeatPassword = onCheckRepeatPassword;\r\n            $scope.onApply = onApply;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCheckRepeatPassword\r\n             *\r\n             * @description\r\n             * Validates a password typed into password fields.\r\n             */\r\n            function onCheckRepeatPassword() {\r\n                if ($scope.changePasData) {\r\n                    if ($scope.repeat === $scope.changePasData.new_password || $scope.repeat === '' || !$scope.repeat) {\r\n                        $scope.form.repeat.$setValidity('repeat', true);\r\n                        if ($scope.repeat === $scope.changePasData.new_password) {\r\n                            $scope.showRepeatHint = false;\r\n                        } else {\r\n                            $scope.showRepeatHint = true;\r\n                        }\r\n                    } else {\r\n                        $scope.showRepeatHint = true;\r\n                        $scope.form.repeat.$setValidity('repeat', false);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\r\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onApply\r\n             *\r\n             * @description\r\n             * Approves password change and sends request to the server on password change.\r\n             */\r\n            function onApply() {\r\n                $scope.onCheckRepeatPassword();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n\r\n                if (!$scope.transaction.begin('CHANGE_PASSWORD')) {\r\n                    return;\r\n                }\r\n\r\n                $scope.changePasData.email = email;\r\n\r\n                pipDataUser.changePassword(\r\n                    $scope.changePasData,\r\n                    function () {\r\n                        $scope.transaction.end();\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1107: 'oldPassword',\r\n                                1105: 'newPassword'\r\n                            }\r\n                        );\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings sessions controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Sessions', [\r\n        'pipSettings.Service', 'pipSettings.Page',]);\r\n\r\n    thisModule.config(function (pipSettingsProvider, pipDataSessionProvider) {\r\n        pipSettingsProvider.addTab({\r\n            state: 'sessions',\r\n            index: 3,\r\n            title: 'SETTINGS_ACTIVE_SESSIONS_TITLE',\r\n            stateConfig: {\r\n                url: '/sessions',\r\n                controller: 'pipUserSettingsSessionsController',\r\n                templateUrl: 'user_settings/user_settings_sessions.html',\r\n                auth: true,\r\n                resolve: {\r\n                    sessions: pipDataSessionProvider.readSessionsResolver,\r\n                    sessionId: pipDataSessionProvider.readSessionIdResolver\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n     *\r\n     * @description\r\n     * Controller provides an interface for managing active sessions.\r\n     */\r\n    thisModule.controller('pipUserSettingsSessionsController',\r\n        function ($scope, pipTransaction, pipDataSession, sessions, sessionId) {\r\n\r\n            $scope.sessionId = sessionId;\r\n            $scope.transaction = pipTransaction('settings.sessions', $scope);\r\n            $scope.sessions = sessions;\r\n\r\n            $scope.onRemoveAll = onRemoveAll;\r\n            $scope.onRemove = onRemove;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemoveAll\r\n             *\r\n             * @description\r\n             * Closes all active session.\r\n             */\r\n            function onRemoveAll() {\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n\r\n                async.eachSeries(\r\n                    $scope.sessions,\r\n                    function (session: any, callback) {\r\n                        if (session.id == $scope.sessionId) {\r\n                            callback();\r\n                        } else {\r\n                            pipDataSession.removeSession(\r\n                                {\r\n                                    session: session\r\n                                },\r\n                                function () {\r\n                                    $scope.sessions = _.without($scope.sessions, session);\r\n                                    callback();\r\n                                },\r\n                                function (error) {\r\n                                    callback;\r\n                                }\r\n                            );\r\n                        }\r\n                    },\r\n                    function (err) {\r\n                        if (err) {\r\n                            $scope.transaction.end(err);\r\n                        }\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n                    });                \r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\r\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemove\r\n             *\r\n             * @description\r\n             * Closes passed session.\r\n             *\r\n             * @param {Object} session  Session configuration object\r\n             */\r\n            function onRemove(session, callback) {\r\n                if (session.id === $scope.sessionId) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('REMOVING');\r\n                pipDataSession.removeSession(\r\n                    {\r\n                        session: session\r\n                    },\r\n                    function () {\r\n                        if ($scope.transaction.aborted(tid)) {\r\n                            return;\r\n                        }\r\n                        $scope.transaction.end();\r\n\r\n                        $scope.sessions = _.without($scope.sessions, session);\r\n                        if (callback) {\r\n                            callback();\r\n                        }\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n                        $scope.message = 'ERROR_' + error.status || error.data.status_code;\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/**\r\n * @file Settings string resources\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n/* eslint-disable quote-props */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.Strings', ['pipTranslate']);\r\n\r\n    thisModule.config(function (pipTranslateProvider) {\r\n\r\n        // Set translation strings for the module\r\n        pipTranslateProvider.translations('en', {\r\n            'SETTINGS_TITLE': 'Settings',\r\n            'SETTINGS_BASIC_INFO_TITLE': 'Basic info',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'Active sessions',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'Full name',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'Please, verify your email address.',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'Verify email address',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'Your password was changed on ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'Change your password',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'Please, use your real name to let other people know who you are.',\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'Few words about yourself',\r\n\r\n            'SETTINGS_BASIC_INFO_GENDER': 'Gender',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'Birthday',\r\n            'SETTINGS_BASIC_INFO_LOCATION': 'Current location',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'Primary email',\r\n            'SETTINGS_BASIC_INFO_FROM': 'User since ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': 'User ID',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'Change password',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'New password',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'Repeat password',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Current password',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': ' If you notice any unfamiliar devices or locations, click' +\r\n            '\"Close Session\" to end the session.',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'Close session',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'Close active sessions',\r\n            'SETTINGS_ACTIVE_SESSION_OS': 'OS: ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'active',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': 'Blacklist',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Parties from blacklist will not be able to send you invitations and ' +\r\n            'private messages.',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Unblock',\r\n            'SETTINGS_BLACKLIST_EMPTY': 'You have no blocked parties',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': 'Contact info',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': 'Email',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'Add email',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'Add phone',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'Add address',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'Add account',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'Add URL',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'Address',\r\n            'SETTINGS_CONTACT_INFO_PHONE': 'Phone',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Account name',\r\n            'SETTINGS_CONTACT_INFO_URL': 'URL',\r\n\r\n            'THEME': 'Theme',\r\n\r\n            'HINT_PASSWORD': 'Minimum 6 characters',\r\n            'HINT_REPEAT_PASSWORD': 'Repeat password',\r\n\r\n            'ERROR_WRONG_PASSWORD': 'Wrong password',\r\n            'ERROR_IDENTICAL_PASSWORDS': 'Old and new passwords are identical',\r\n            'REPEAT_PASSWORD_INVALID': 'Password does not match',\r\n            'ERROR_EMAIL_INVALID': 'Please, enter a valid email'\r\n        });\r\n\r\n        pipTranslateProvider.translations('ru', {\r\n            'SETTINGS_TITLE': 'ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸',\r\n            'SETTINGS_BASIC_INFO_TITLE': 'ÐÑÐ½Ð¾Ð²Ð½ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ',\r\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'ÐÐºÑÐ¸Ð²Ð½ÑÐµ ÑÐµÑÑÐ¸Ð¸',\r\n\r\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'ÐÐ¾Ð»Ð½Ð¾Ðµ Ð¸Ð¼Ñ',\r\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ÑÐµ ÑÐµÐ°Ð»ÑÐ½Ð¾Ðµ Ð¸Ð¼Ñ, ÑÑÐ¾Ð± Ð»ÑÐ´Ð¸ Ð¼Ð¾Ð³Ð»Ð¸ Ð²Ð°Ñ ÑÐ·Ð½Ð°ÑÑ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¿Ð¾Ð´ÑÐ²ÐµÑÐ´Ð¸ÑÐµ Ð°Ð´ÑÐµÑ ÑÐ²Ð¾ÐµÐ¹ ÑÐ»ÐµÐºÑÑÐ¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾ÑÑÑ',\r\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'ÐÐ¾Ð´ÑÐ²ÐµÑÐ´Ð¸ÑÐµ Ð°Ð´ÑÐµÑ ÑÐ».Ð¿Ð¾ÑÑÑ',\r\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'ÐÐ°Ñ Ð¿Ð°ÑÐ¾Ð»Ñ Ð±ÑÐ» Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½ ',\r\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'ÐÐ¾Ð¼ÐµÐ½ÑÑÑ Ð¿Ð°ÑÐ¾Ð»Ñ',\r\n\r\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'ÐÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐ»Ð¾Ð² Ð¾ ÑÐµÐ±Ðµ',\r\n            'SETTINGS_BASIC_INFO_GENDER': 'ÐÐ¾Ð»',\r\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'ÐÐ°ÑÐ° ÑÐ¾Ð¶Ð´ÐµÐ½Ð¸Ñ',\r\n            'SETTINGS_BASIC_INFO_LOCATION': 'Ð¢ÐµÐºÑÑÐµÐµ Ð¼ÐµÑÑÐ¾Ð½Ð°ÑÐ¾Ð¶Ð´ÐµÐ½Ð¸Ðµ',\r\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'ÐÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð°Ð´ÑÐµÑ ÑÐ». Ð¿Ð¾ÑÑÑ',\r\n            'SETTINGS_BASIC_INFO_FROM': 'ÐÐ°ÑÐ¸Ð½Ð°Ñ Ñ',\r\n            'SETTINGS_BASIC_INFO_USER_ID': 'ÐÐ¸ÑÐ½ÑÐ¹ ÐºÐ¾Ð´',\r\n\r\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'ÐÐ·Ð¼ÐµÐ½Ð¸ÑÑ Ð¿Ð°ÑÐ¾Ð»Ñ',\r\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'ÐÐ¾Ð²ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ',\r\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'ÐÐ¾Ð²ÑÐ¾Ñ',\r\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Ð¢ÐµÐºÑÑÐ¸Ð¹ Ð¿Ð°ÑÐ¾Ð»Ñ',\r\n\r\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': 'ÐÑÐ»Ð¸ Ð²Ñ Ð·Ð°Ð¼ÐµÑÐ¸Ð»Ð¸ ÐºÐ°ÐºÐ¸Ðµ-Ð»Ð¸Ð±Ð¾ Ð½ÐµÐ·Ð½Ð°ÐºÐ¾Ð¼ÑÐµ ÑÑÑÑÐ¾Ð¹ÑÑÐ²Ð° Ð¸Ð»Ð¸ ' +\r\n            'Ð¼ÐµÑÑÐ¾ÑÐ°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ, Ð½Ð°Ð¶Ð¼Ð¸ÑÐµ ÐºÐ½Ð¾Ð¿ÐºÑ \"ÐÐ°ÐºÐ¾Ð½ÑÐ¸ÑÑ ÑÐµÐ°Ð½Ñ\", ÑÑÐ¾Ð±Ñ Ð·Ð°Ð²ÐµÑÑÐ¸ÑÑ ÑÐµÐ°Ð½Ñ.',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'ÐÐ°ÐºÑÑÑÑ ÑÐµÑÑÐ¸Ñ',\r\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'ÐÐ°ÐºÑÑÑÑ Ð°ÐºÑÐ¸Ð²Ð½ÑÐµ ÑÐµÑÑÐ¸Ð¸',\r\n            'SETTINGS_ACTIVE_SESSION_OS': 'ÐÐ¡: ',\r\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\r\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'ÐÐºÑÐ¸Ð²Ð½Ð¾',\r\n\r\n            'SETTINGS_BLACKLIST_TITLE': 'ÐÐ»Ð¾ÐºÐ¸ÑÐ¾Ð²ÐºÐ¸',\r\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Ð£ÑÐ°ÑÑÐ½Ð¸ÐºÐ¸ Ð¸Ð· ÑÐµÑÐ½Ð¾Ð³Ð¾ ÑÐ¿Ð¸ÑÐºÐ° Ð½Ðµ ÑÐ¼Ð¾Ð³ÑÑ' +\r\n            ' Ð¿Ð¾ÑÑÐ»Ð°ÑÑ Ð²Ð°Ð¼ Ð¿ÑÐ¸Ð³Ð»Ð°ÑÐµÐ½Ð¸Ñ Ð¸ Ð»Ð¸ÑÐ½ÑÐµ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ.',\r\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Ð Ð°Ð·Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²Ð°ÑÑ',\r\n            'SETTINGS_BLACKLIST_EMPTY': 'Ð£ Ð²Ð°Ñ Ð½ÐµÑ Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸ÑÐ¾Ð²Ð°Ð½Ð½ÑÑ ÑÑÐ°ÑÑÐ½Ð¸ÐºÐ¾Ð²',\r\n\r\n            'SETTINGS_CONTACT_INFO_TITLE': 'ÐÐ¾Ð½ÑÐ°ÐºÑÑ',\r\n            'SETTINGS_CONTACT_INFO_EMAIL': 'ÐÐ´ÑÐµÑ ÑÐ»ÐµÐºÑÑÐ¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾ÑÑÑ',\r\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð°Ð´ÑÐµÑ ÑÐ». Ð¿Ð¾ÑÑÑ',\r\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ»ÐµÑÐ¾Ð½',\r\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð°Ð´ÑÐµÑ',\r\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð°ÐºÐºÐ°ÑÐ½Ñ',\r\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð²ÐµÐ±-ÑÐ°Ð¹Ñ',\r\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'ÐÐ´ÑÐµÑ',\r\n            'SETTINGS_CONTACT_INFO_PHONE': 'Ð¢ÐµÐ»ÐµÑÐ¾Ð½',\r\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Ð£ÑÐµÑÐºÐ° Ð² Ð¼ÐµÑÑÐµÐ½Ð´Ð¶ÐµÑÐµ',\r\n            'SETTINGS_CONTACT_INFO_URL': 'ÐÐµÐ± ÑÐ°Ð¹Ñ',\r\n\r\n            'THEME': 'Ð¢ÐµÐ¼Ð°',\r\n\r\n            'HINT_PASSWORD': 'ÐÐ¸Ð½Ð¸Ð¼ÑÐ¼ 6 Ð·Ð½Ð°ÐºÐ¾Ð²',\r\n            'HINT_REPEAT_PASSWORD': 'ÐÐ¾Ð²ÑÐ¾ÑÐ¸ÑÐµ Ð¿Ð°ÑÐ¾Ð»Ñ',\r\n\r\n            'ERROR_WRONG_PASSWORD': 'ÐÐµÐ¿ÑÐ°Ð²Ð¸Ð»ÑÐ½ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ',\r\n            'ERROR_IDENTICAL_PASSWORDS': 'Ð¡ÑÐ°ÑÑÐ¹ Ð¸ Ð½Ð¾Ð²ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ð¸ Ð¸Ð´ÐµÐ½ÑÐ¸ÑÐ½Ñ',\r\n            'REPEAT_PASSWORD_INVALID': 'ÐÐ°ÑÐ¾Ð»Ñ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÐµÑ',\r\n            'ERROR_EMAIL_INVALID': 'ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð²Ð²ÐµÐ´Ð¸ÑÐµ Ð¿ÑÐ°Ð²Ð¸Ð»ÑÐ½ÑÐ¹ Ð¿Ð¾ÑÑ.Ð°Ð´ÑÐµÑ'\r\n        });\r\n    });\r\n\r\n})();\r\n","/**\r\n * @file Settings verify email controller\r\n * @copyright Digital Living Software Corp. 2014-2016\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipUserSettings.VerifyEmail', []);\r\n\r\n    /**\r\n     * @ngdoc controller\r\n     * @name pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n     *\r\n     * @description\r\n     * Controller for verify email dialog panel.\r\n     */\r\n    thisModule.controller('pipUserSettingsVerifyEmailController',\r\n        function ($scope, $rootScope, $mdDialog, pipTransaction, pipFormErrors, pipDataUser, email) {\r\n\r\n            $scope.emailVerified = false;\r\n            $scope.data = {\r\n                email: email,\r\n                code: ''\r\n            };\r\n            $scope.transaction = pipTransaction('settings.verify_email', $scope);\r\n\r\n            /** @see onAbort */\r\n            $scope.onAbort = onAbort;\r\n            /** @see onRequestVerificationClick*/\r\n            $scope.onRequestVerificationClick = onRequestVerificationClick;\r\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\r\n            /** @see onVerify */\r\n            $scope.onVerify = onVerify;\r\n            /** @see onCancel */\r\n            $scope.onCancel = onCancel;\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onAbort\r\n             *\r\n             * @description\r\n             * Aborts a verify request.\r\n             */\r\n            function onAbort() {\r\n                $scope.transaction.abort();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onCancel\r\n             *\r\n             * @description\r\n             * Closes opened dialog panel.\r\n             */\r\n            function onCancel() {\r\n                $mdDialog.cancel();\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onRequestVerificationClick\r\n             *\r\n             * @description\r\n             * Sends request to verify entered email.\r\n             */\r\n            function onRequestVerificationClick() {\r\n                    var tid = $scope.transaction.begin('RequestEmailVerification');\r\n\r\n                pipDataUser.requestEmailVerification(\r\n                    {},                         \r\n                    function (result) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n                        }, \r\n                        function (error) {\r\n                            $scope.transaction.end(error);\r\n                        }\r\n                    );\r\n            }\r\n\r\n            /**\r\n             * @ngdoc method\r\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\r\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onVerify\r\n             *\r\n             * @description\r\n             * Initiates request on verify email on the server.\r\n             */\r\n            function onVerify() {\r\n                $scope.form.$setSubmitted();\r\n\r\n                if ($scope.form.$invalid) {\r\n                    return;\r\n                }\r\n                var tid = $scope.transaction.begin('Verifying');\r\n\r\n                pipDataUser.verifyEmail(\r\n                    {\r\n                        email: $scope.data.email,\r\n                        code: $scope.data.code\r\n                    }, \r\n                    function (verifyData) {\r\n                            if ($scope.transaction.aborted(tid)) {\r\n                                return;\r\n                            }\r\n                            $scope.transaction.end();\r\n\r\n                        $mdDialog.hide(true);\r\n                    },\r\n                    function (error) {\r\n                        $scope.transaction.end(error);\r\n\r\n                        pipFormErrors.setFormError(\r\n                            $scope.form, error,\r\n                            {\r\n                                1106: 'email',\r\n                                1103: 'code'\r\n                            }\r\n                        );\r\n\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('settings_page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_basic_info.html',\n    '<form name=\"form\" class=\"w-stretch\" novalidate=\"\"><md-progress-linear class=\"pip-progress-top\" ng-show=\"transaction.busy()\" md-mode=\"indeterminate\"></md-progress-linear><div class=\"layout-row bm12\"><div class=\"md-tile-left\"><pip-avatar-edit pip-party-id=\"$party.id\" pip-created=\"onPictureCreated($event)\" pip-changed=\"onPictureChanged($control, $event)\"></pip-avatar-edit></div><div class=\"md-tile-content tp0 layout-align-center\"><h3 class=\"tm16 bm8 text-one-line\">{{ nameCopy }}</h3><p class=\"text-primary text-overflow m0\">{{::\\'SETTINGS_BASIC_INFO_FROM\\' | translate}} {{$user.signup | formatLongDate }}</p></div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_BASIC_INFO_FULL_NAME\\' | translate}}</label> <input name=\"fullName\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\" ng-model=\"$party.name\" ng-disabled=\"transaction.busy()\" ng-change=\"onChangeBasicInfo()\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.fullName).hint\">{{::\\'ERROR_FULLNAME_INVALID\\' | translate}}</div></md-input-container><md-input-container class=\"md-block bm0\"><label>{{::\\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" required=\"\" ng-model=\"$party.email\" ng-change=\"onChangeBasicInfo()\" pip-email-unique=\"{{$party.email}}\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint && !$user.email_ver\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_HINT\\' | translate}}</div><div ng-messages=\"errorsWithHint(form.email)\" ng-hide=\"$party.type ==\\'team\\'\"><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div><div ng-message=\"emailUnique\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div></div></md-input-container><md-button class=\"md-raised bm16 tm8 rm8\" ng-click=\"onVerifyEmail($event)\" ng-hide=\"$user.email_ver || $party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_CODE\\' | translate}}</md-button><md-button ng-click=\"onChangePassword($event)\" class=\"md-raised bm16 tm8\" ng-hide=\"$party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\\' | translate}}</md-button><md-input-container class=\"md-block flex\"><label>{{::\\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\\' | translate }}</label> <textarea ng-model=\"$party.about\" columns=\"1\" ng-change=\"onChangeBasicInfo()\"></textarea></md-input-container><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'GENDER\\' | translate}}</label><md-select ng-model=\"$party.gender\" ng-change=\"onChangeBasicInfo()\" placeholder=\"{{\\'GENDER\\' | translate}}\"><md-option ng-value=\"gender.id\" ng-repeat=\"gender in genders\">{{gender.name}}</md-option></md-select></md-input-container><div ng-hide=\"$party.type ==\\'team\\'\"><p class=\"text-caption text-grey tm0 bm0\">{{::\\'SETTINGS_BASIC_INFO_BIRTHDAY\\' | translate}}</p><pip-date ng-model=\"$party.birthday\" ng-change=\"onChangeBasicInfo()\" pip-time-mode=\"past time-mode=\" past\"=\"\"></pip-date></div><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'LANGUAGE\\' | translate}}</label><md-select placeholder=\"{{\\'LANGUAGE\\' | translate}}\" ng-model=\"$user.language\" ng-change=\"onChangeUser()\"><md-option ng-value=\"language.id\" ng-repeat=\"language in languages\">{{language.name}}</md-option></md-select></md-input-container><md-input-container class=\"md-block\" ng-if=\"$party.type !=\\'team\\'\"><label>{{::\\'THEME\\' | translate}}</label><md-select class=\"w-stretch theme-text-primary\" ng-model=\"$user.theme\" ng-change=\"onChangeUser()\" ng-disabled=\"transaction.busy()\"><md-option ng-value=\"theme\" ng-repeat=\"theme in themes\" ng-selected=\"$theme == theme ? true : false\">{{ theme | translate }}</md-option></md-select></md-input-container><pip-location-edit class=\"map-edit bm24-flex\" ng-hide=\"$party.type ==\\'team\\'\" pip-changed=\"onChangeBasicInfo()\" pip-location-name=\"$party.loc_name\" pip-location-pos=\"loc_pos\"></pip-location-edit></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_change_password.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><form name=\"form\" ng-submit=\"onApply()\"><div class=\"pip-header\"><h3 class=\"m0\">{{::\\'SETTINGS_CHANGE_PASSWORD_TITLE\\' | translate : module}}</h3></div><div class=\"pip-body\"><div class=\"pip-content\"><div class=\"text-error bm8\" ng-messages=\"form.$serverError\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\\' | translate }}</label> <input name=\"oldPassword\" type=\"password\" ng-model=\"changePasData.old_password\" ng-required=\"change_password.$submitted\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.oldPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"ERROR_1107\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{\\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\\' | translate }}</label> <input name=\"newPassword\" type=\"password\" ng-model=\"changePasData.new_password\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\" pip-clear-errors=\"\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.newPassword).hint\">{{ \\'HINT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsWithHint(form, form.newPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"ERROR_1105\">{{::\\'ERROR_IDENTICAL_PASSWORDS\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{ \\'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\\' | translate }}</label> <input name=\"repeat\" type=\"password\" ng-model=\"repeat\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\"><div class=\"hint\" ng-if=\"errorsRepeatWithHint(form.repeat).hint\">{{::\\'HINT_REPEAT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsRepeatWithHint(form.repeat)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"repeat\">{{::\\'REPEAT_PASSWORD_INVALID\\' | translate }}</div></div></md-input-container></div></div><div class=\"pip-footer\"><div><md-button aria-label=\"xxx\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate }}</md-button><md-button type=\"submit\" class=\"md-accent\" aria-label=\"xxx\">{{::\\'APPLY\\' | translate : module}}</md-button></div></div></form></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_sessions.html',\n    '<md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><div class=\"pip-details-title pip-sessions\"><p class=\"pip-title bm16\">{{::\\'SETTINGS_ACTIVE_SESSIONS_TITLE\\' | translate}}</p><p class=\"pip-subtitle\">{{::\\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\\' | translate}}</p></div><md-list class=\"w-stretch\"><div ng-repeat=\"session in sessions\"><div class=\"layout-row\" ng-init=\"showBlock = session.id != sessionId\" ng-click=\"showBlock = !showBlock\"><p class=\"m0 text-subhead2 text-overflow max-w50-stretch\">{{::session.client}}</p><p class=\"m0 lp4 text-body1 color-secondary-text flex\">{{::\\'SETTINGS_ACTIVE_SESSION_ACTIVE\\' | translate}}</p><p class=\"m0 text-body1 color-secondary-text\">{{::country}}<md-icon ng-if=\"showBlock\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon ng-if=\"!showBlock\" md-svg-icon=\"icons:triangle-down\"></md-icon></p></div><div class=\"layout-row bm8 bp8\" ng-class=\"{\\'divider-bottom\\':!$last}\"><div class=\"flex-50\"><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\">{{session.last_req | date : \\'medium\\'}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_OS\\' | translate}}{{::session.platform}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_IP\\' | translate}}{{::session.address}}</p><md-button class=\"md-raised\" ng-show=\"showBlock && session.id != sessionId\" ng-click=\"onRemove(session)\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\\' | translate}}</md-button></div><pip-location-ip class=\"map-edit flex-50\" ng-if=\"showBlock\" pip-ipaddress=\"session.address\" pip-extra-info=\"country = extraInfo.country\"></pip-location-ip></div></div></md-list><div class=\"layout-row layout-align-end-center\"><md-button class=\"md-raised\" ng-show=\"sessions.length > 1\" ng-click=\"onRemoveAll()\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\\' | translate}}</md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_verify_email.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2>{{::\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{::\\'VERIFY_EMAIL_TEXT_1\\' | translate}}</p><form name=\"form\" novalidate=\"\"><div ng-messages=\"form.$serverError\" class=\"text-error bm8\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"display bp4 md-block\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" ng-model=\"data.email\" required=\"\" step=\"any\" pip-clear-errors=\"\" tabindex=\"1\" ng-disabled=\"transaction.busy()\" pip-test=\"input-email\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"errorsWithHint(form, form.email)\" xng-if=\"!form.email.$pristine\"><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1106\">{{::\\'ERROR_USER_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label> <input name=\"code\" ng-disabled=\"transaction.busy()\" tabindex=\"0\" ng-model=\"data.code\" required=\"\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.code)\"><div ng-message=\"required\">{{::\\'ERROR_CODE_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1103\">{{::\\'ERROR_CODE_WRONG\\' | translate }}</div></div></md-input-container><p>{{::\\'VERIFY_EMAIL_TEXT_21\\' | translate}} <a ng-click=\"onRequestVerificationClick()\" class=\"pointer\" tabindex=\"0\">{{::\\'VERIFY_EMAIL_RESEND\\' | translate}}</a> {{::\\'VERIFY_EMAIL_TEXT_22\\' | translate}}</p></form></div></div><div class=\"pip-footer\"><md-button ng-click=\"onCancel()\" ng-hide=\"transaction.busy()\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-click=\"onVerify()\" ng-hide=\"transaction.busy()\" tabindex=\"0\" aria-label=\"xxx\" ng-disabled=\"data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)\">{{::\\'VERIFY\\' | translate}}</md-button><md-button class=\"md-warn\" ng-show=\"transaction.busy()\" ng-click=\"transaction.abort()\" tabindex=\"0\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n"]}
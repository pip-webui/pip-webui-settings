{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/page/SettingsPage.ts","src/page/SettingsPageRoutes.ts","src/page/index.ts","src/service/SettingsConfig.ts","src/service/SettingsPageSelectedTab.ts","src/service/SettingsService.ts","src/service/SettingsStateConfig.ts","src/service/SettingsTab.ts","src/service/index.ts","temp/pip-webui-settings-html.min.js"],"names":[],"mappings":"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","file":"pip-webui-settings.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import './service';\r\nimport './page';\r\n\r\nangular.module('pipSettings', [\r\n    'pipSettings.Service',\r\n    'pipSettings.Page'\r\n]);\r\n\r\nexport * from './service';","import { ISettingsService } from '../service/ISettingsService';\r\nimport { SettingsTab } from '../service/SettingsTab';\r\nimport { SettingsPageSelectedTab } from '../service/SettingsPageSelectedTab';\r\n\r\ninterface ISettingsPageController {\r\n    tabs: SettingsTab[];\r\n    selected: SettingsPageSelectedTab;\r\n    // onDropdownSelect: Function;\r\n    onNavigationSelect(state: string): void;\r\n}\r\n\r\nclass SettingsPageController implements ISettingsPageController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public tabs: SettingsTab[];\r\n    public selected: SettingsPageSelectedTab;\r\n    // public onDropdownSelect: Function;\r\n    private cleanUpFunc: Function;\r\n    private cleanUpSelectFunc: Function;\r\n    private mediaSizeGtSm: boolean;\r\n    public details: boolean;\r\n\r\n    constructor(\r\n        private $state: ng.ui.IStateService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        $scope: ng.IScope,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $timeout: angular.ITimeoutService,\r\n        private $location: ng.ILocationService,\r\n        private pipNavService: pip.nav.INavService,\r\n        private pipSettings: ISettingsService,\r\n        public pipMedia: pip.layouts.IMediaService,\r\n    ) {\r\n\r\n        this.translateInit();\r\n\r\n        this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n        this.initTabs();\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = $location.search().details == 'details' ? true : false;\r\n        } else {\r\n            this.details = false;\r\n            this.$location.search('details', 'main');\r\n        }\r\n            \r\n        this.cleanUpSelectFunc = $rootScope.$on('$stateChangeSuccess', () => {\r\n            let state = this.$state.current.name;\r\n            this.initSelect(state, false);\r\n        });\r\n\r\n        this.cleanUpFunc = $rootScope.$on('pipMainResized', () => {\r\n            if (this.mediaSizeGtSm !== this.pipMedia('gt-sm')) {\r\n                this.mediaSizeGtSm = this.pipMedia('gt-sm');\r\n\r\n                if (this.pipMedia('gt-sm')) {\r\n                    this.details = false;\r\n                }\r\n                this.appHeader();\r\n            }\r\n        });\r\n        this.appHeader();\r\n\r\n        $scope.$on('$destroy', () => {\r\n            if (angular.isFunction(this.cleanUpFunc)) {\r\n                this.cleanUpFunc();\r\n            }\r\n            \r\n            if (angular.isFunction(this.cleanUpSelectFunc)) {\r\n                this.cleanUpSelectFunc();\r\n            }\r\n        });\r\n    }\r\n\r\n    private initTabs(): void {\r\n        this.tabs = _.filter(this.pipSettings.getTabs(), (tab: SettingsTab) => {\r\n            if (tab.visible === true && (tab.access ? tab.access(this.$rootScope['$user'], tab) : true)) {\r\n                return tab;\r\n            }\r\n        });\r\n\r\n        this.tabs = _.sortBy(this.tabs, 'index');\r\n\r\n        this.selected = new SettingsPageSelectedTab();\r\n        if (this.$state.current.name !== 'settings') {\r\n            this.initSelect(this.$state.current.name);\r\n        } else if (this.$state.current.name === 'settings' && this.pipSettings.getDefaultTab()) {\r\n            this.initSelect(this.pipSettings.getDefaultTab().state);\r\n        } else {\r\n            this.$timeout(() => {\r\n                if (this.pipSettings.getDefaultTab()) {\r\n                    this.initSelect(this.pipSettings.getDefaultTab().state);\r\n                }\r\n                if (!this.pipSettings.getDefaultTab() && this.tabs.length > 0) {\r\n                    this.initSelect(this.tabs[0].state);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private translateInit() {\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                PIP_SETTINGS: 'Settings',\r\n                PIP_SETTINGS_DETAILS: 'Settings details'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                PIP_SETTINGS: 'Настройки',\r\n                PIP_SETTINGS_DETAILS: 'Подробно'\r\n            });\r\n        }\r\n    }\r\n    private toMainFromDetails(): void {\r\n        this.$location.search('details', 'main');\r\n        this.details = false;\r\n        this.appHeader();\r\n    }\r\n\r\n    public appHeader(): void {\r\n        this.pipNavService.breadcrumb.breakpoint = 'gt-sm';\r\n        if (!this.pipMedia('gt-sm')) {\r\n            let detailsTitle: string = this.selected && this.selected.tab ? this.selected.tab.title : 'PIP_SETTINGS_DETAILS';\r\n            if (this.details) {\r\n                this.pipNavService.icon.showBack(() => {\r\n                    this.toMainFromDetails();\r\n                });\r\n                this.pipNavService.breadcrumb.items = [\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: \"PIP_SETTINGS\", click: () => {\r\n                            this.toMainFromDetails();\r\n                        }\r\n                    },\r\n                    <pip.nav.BreadcrumbItem>{\r\n                        title: detailsTitle, click: () => { }, subActions: []\r\n                    }\r\n                ];\r\n            } else {\r\n                this.pipNavService.icon.showMenu();\r\n                this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n            }\r\n        } else {\r\n            this.pipNavService.icon.showMenu();\r\n            this.pipNavService.breadcrumb.text = \"PIP_SETTINGS\";\r\n        }\r\n\r\n\r\n        this.pipNavService.actions.hide();\r\n        this.pipNavService.appbar.removeShadow();\r\n    }\r\n\r\n    private initSelect(state: string, updateState: boolean = true): void {\r\n        this.selected.tab = _.find(this.tabs, (tab: SettingsTab) => {\r\n            return tab.state === state;\r\n        });\r\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\r\n        this.selected.tabId = state;\r\n        if (updateState === true) this.$state.go(this.selected.tabId);\r\n    }\r\n\r\n    public onNavigationSelect(state: string): void {\r\n        this.initSelect(state);\r\n\r\n        if (!this.pipMedia('gt-sm')) {\r\n            this.details = true;\r\n            this.$location.search('details', 'details');\r\n            this.appHeader();\r\n        }\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Page')\r\n    .controller('pipSettingsPageController', SettingsPageController);\r\n","{\r\n    function configureSettingsPageRoutes($stateProvider) {\r\n        $stateProvider\r\n            .state('settings', {\r\n                url: '/settings?user_id&details',\r\n                auth: true,\r\n                controllerAs: 'vm',\r\n                controller: 'pipSettingsPageController',\r\n                templateUrl: 'page/SettingsPage.html'\r\n            });\r\n\r\n    }\r\n\r\n    angular.module('pipSettings.Page')\r\n        .config(configureSettingsPageRoutes);\r\n}\r\n","angular.module('pipSettings.Page', [\r\n    'ui.router', \r\n    'pipSettings.Service',\r\n    'pipNav', \r\n    'pipSelected',\r\n    'pipTranslate',\r\n    'pipSettings.Templates'\r\n    ]);\r\n\r\n\r\nimport './SettingsPage';\r\nimport './SettingsPageRoutes';","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsConfig {\r\n    public defaultTab: string;\r\n    public tabs: SettingsTab[] = [];\r\n    public titleText: string = 'SETTINGS_TITLE';\r\n    public titleLogo: boolean = null;\r\n    public isNavIcon: boolean = true;\r\n}\r\n","import { SettingsTab } from './SettingsTab';\r\n\r\nexport class SettingsPageSelectedTab {\r\n    public tab: SettingsTab;\r\n    public tabIndex: number = 0;\r\n    public tabId: string;\r\n}","import { SettingsTab } from './SettingsTab';\r\nimport { SettingsConfig } from './SettingsConfig';\r\nimport { ISettingsService } from './ISettingsService';\r\nimport { ISettingsProvider } from './ISettingsService';\r\n\r\nclass SettingsService implements ISettingsService {\r\n    private _config: SettingsConfig;\r\n\r\n    public constructor(config: SettingsConfig) {\r\n        \"ngInject\";\r\n        this._config = config;\r\n    }\r\n\r\n    private getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === this._config.defaultTab;\r\n        });\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public getTabs(): SettingsTab[] {\r\n        return _.cloneDeep(this._config.tabs);\r\n    }\r\n\r\n}\r\n\r\nclass SettingsProvider implements ISettingsProvider {\r\n    private _service: SettingsService;\r\n    private _stateProvider: { state: Function };\r\n    private _config: SettingsConfig = new SettingsConfig();\r\n\r\n    constructor($stateProvider: ng.ui.IStateProvider) { \"ngInject\"; this._stateProvider = $stateProvider; }\r\n\r\n    public set stateProvider(stateProvider: { state: Function }) {\r\n        this._stateProvider = stateProvider;\r\n    }\r\n\r\n    public get stateProvider(): { state: Function } {\r\n        return this._stateProvider;\r\n    }\r\n\r\n    public getFullStateName(state: string): string {\r\n        return 'settings.' + state;\r\n    }\r\n\r\n    public getDefaultTab(): SettingsTab {\r\n        let defaultTab: SettingsTab;\r\n\r\n        defaultTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === defaultTab.state;\r\n        });\r\n\r\n        return _.cloneDeep(defaultTab);\r\n    }\r\n\r\n    public addTab(tabObj: SettingsTab): void {\r\n        let existingTab: SettingsTab;\r\n\r\n        this.validateTab(tabObj);\r\n        existingTab = _.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + tabObj.state;\r\n        });\r\n        if (existingTab) {\r\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\r\n        }\r\n\r\n        this._config.tabs.push({\r\n            state: this.getFullStateName(tabObj.state),\r\n            title: tabObj.title,\r\n            icon: tabObj.icon,\r\n            iconClass: tabObj.iconClass,\r\n            index: tabObj.index || 100000,\r\n            access: tabObj.access,\r\n            visible: tabObj.visible !== false,\r\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\r\n        });\r\n        this._stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\r\n\r\n        // if we just added first state and no default state is specified\r\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\r\n            this.setDefaultTab(tabObj.state);\r\n        }\r\n    }\r\n\r\n    public setDefaultTab(name: string): void {\r\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\r\n        if (!_.find(this._config.tabs, (tab: SettingsTab) => {\r\n            return tab.state === 'settings.' + name;\r\n        })) {\r\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\r\n        }\r\n\r\n        this._config.defaultTab = this.getFullStateName(name);\r\n        //console.log(this.$stateProvider);\r\n        //this.$stateProvider.go(this._config.defaultTab);\r\n        //pipAuthStateProvider.redirect('settings', getFullStateName(name));\r\n    }\r\n\r\n    /**\r\n     * Validates passed tab config object\r\n     * If passed tab is not valid it will throw an error\r\n     */\r\n    private validateTab(tabObj: SettingsTab): void {\r\n        if (!tabObj || !_.isObject(tabObj)) {\r\n            throw new Error('Invalid object');\r\n        }\r\n\r\n        if (tabObj.state === null || tabObj.state === '') {\r\n            throw new Error('Tab should have valid Angular UI router state name');\r\n        }\r\n\r\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\r\n            throw new Error('\"access\" should be a function');\r\n        }\r\n\r\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\r\n            throw new Error('Invalid state configuration object');\r\n        }\r\n    }\r\n\r\n    public showTitleText(newTitleText: string): string {\r\n        if (newTitleText) {\r\n            this._config.titleText = newTitleText;\r\n            this._config.titleLogo = null;\r\n        }\r\n\r\n        return this._config.titleText;\r\n    }\r\n\r\n    public showTitleLogo(newTitleLogo) {\r\n        if (newTitleLogo) {\r\n            this._config.titleLogo = newTitleLogo;\r\n            this._config.titleText = null;\r\n        }\r\n\r\n        return this._config.titleLogo;\r\n    }\r\n\r\n    public showNavIcon(value: boolean): boolean {\r\n        if (value !== null && value !== undefined) {\r\n            this._config.isNavIcon = !!value;\r\n        }\r\n\r\n        return this._config.isNavIcon;\r\n    }\r\n\r\n    public $get(): ISettingsService {\r\n        \"ngInject\";\r\n\r\n        if (_.isNull(this._service) || _.isUndefined(this._service)) {\r\n            this._service = new SettingsService(this._config);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipSettings.Service', ['ui.router'])\r\n    .provider('pipSettings', SettingsProvider);\r\n\r\n","export class SettingsStateConfig {\r\n    public url: string;\r\n    public auth: boolean = false;\r\n    public templateUrl?: string;\r\n    public template?: string;\r\n}","import { SettingsStateConfig } from './SettingsStateConfig';\r\n\r\nexport class SettingsTab {\r\n    public state: string;\r\n    public title: string;\r\n    public icon?: string;\r\n    public iconClass?: string;\r\n    public index: number;\r\n    public access: Function;\r\n    public visible: boolean;\r\n    public stateConfig: SettingsStateConfig;\r\n}\r\n","import './SettingsConfig';\r\nimport './SettingsPageSelectedTab';\r\nimport './SettingsStateConfig';\r\nimport './SettingsTab';\r\nimport './SettingsService';\r\n\r\nexport * from './SettingsConfig';\r\nexport * from './SettingsPageSelectedTab';\r\nexport * from './SettingsStateConfig';\r\nexport * from './SettingsTab';\r\nexport * from './SettingsService';\r\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('page/SettingsPage.html',\n    '<div class=\"pip-main-menu pip-settings\" ng-class=\"{\\'pip-single-content\\': vm.details}\"><div class=\"pip-menu\"><div class=\"pip-list-container pip-scroll divider-top\"><md-list class=\"pip-ref-list tp0 pip-settings-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-ref-list-item pointer divider-bottom pip-selectable\" ng-repeat=\"tab in vm.tabs track by tab.state\" pip-id=\"{{:: tab.state }}\" md-ink-ripple=\"\"><div ng-click=\"vm.onNavigationSelect(tab.state)\" class=\"layout-row layout-align-start-center flex\"><div class=\"pip-settings-icon layout-row layout-align-start-center {{ tab.iconClass ? tab.iconClass : \\'pip-settings-icon-color\\'}}\" ng-if=\"tab.icon\"><md-icon class=\"\" md-svg-icon=\"{{ tab.icon }}\"></md-icon></div><div class=\"pip-content {{ tab.icon ? \\'\\' : \\'pip-settings-without-icon\\' }}\"><p class=\"pip-title text-overflow flex\">{{ ::tab.title | translate }}</p></div><div class=\"pip-ref-list-item-end-icon\"><md-icon class=\"\" md-svg-icon=\"icons:chevron-right\"></md-icon></div></div></md-list-item></md-list></div></div><div class=\"pip-content-container\"><pip-document><div class=\"pip-body tp24-flex layout-column flex\" ui-view=\"\"></div></pip-document></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaW5kZXgudHMiLCJzcmMvcGFnZS9TZXR0aW5nc1BhZ2UudHMiLCJzcmMvcGFnZS9TZXR0aW5nc1BhZ2VSb3V0ZXMudHMiLCJzcmMvcGFnZS9pbmRleC50cyIsInNyYy9zZXJ2aWNlL1NldHRpbmdzQ29uZmlnLnRzIiwic3JjL3NlcnZpY2UvU2V0dGluZ3NQYWdlU2VsZWN0ZWRUYWIudHMiLCJzcmMvc2VydmljZS9TZXR0aW5nc1NlcnZpY2UudHMiLCJzcmMvc2VydmljZS9TZXR0aW5nc1N0YXRlQ29uZmlnLnRzIiwic3JjL3NlcnZpY2UvU2V0dGluZ3NUYWIudHMiLCJzcmMvc2VydmljZS9pbmRleC50cyIsInRlbXAvcGlwLXdlYnVpLXNldHRpbmdzLWh0bWwubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUNBQSxxQkFBbUI7QUFDbkIsa0JBQWdCO0FBRWhCLE9BQU8sQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFO0lBQzFCLHFCQUFxQjtJQUNyQixrQkFBa0I7Q0FDckIsQ0FBQyxDQUFDO0FBRUgsK0JBQTBCOzs7O0FDTjFCLDhFQUE2RTtBQVM3RTtJQVdJLGdDQUNZLE1BQTJCLEVBQzNCLFVBQWdDLEVBQ3hDLE1BQWlCLEVBQ1QsU0FBbUMsRUFDbkMsUUFBaUMsRUFDakMsU0FBOEIsRUFDOUIsYUFBa0MsRUFDbEMsV0FBNkIsRUFDOUIsUUFBbUM7UUFUOUMsaUJBbURDO1FBbERXLFdBQU0sR0FBTixNQUFNLENBQXFCO1FBQzNCLGVBQVUsR0FBVixVQUFVLENBQXNCO1FBRWhDLGNBQVMsR0FBVCxTQUFTLENBQTBCO1FBQ25DLGFBQVEsR0FBUixRQUFRLENBQXlCO1FBQ2pDLGNBQVMsR0FBVCxTQUFTLENBQXFCO1FBQzlCLGtCQUFhLEdBQWIsYUFBYSxDQUFxQjtRQUNsQyxnQkFBVyxHQUFYLFdBQVcsQ0FBa0I7UUFDOUIsYUFBUSxHQUFSLFFB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IGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgJy4vc2VydmljZSc7XHJcbmltcG9ydCAnLi9wYWdlJztcclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwaXBTZXR0aW5ncycsIFtcclxuICAgICdwaXBTZXR0aW5ncy5TZXJ2aWNlJyxcclxuICAgICdwaXBTZXR0aW5ncy5QYWdlJ1xyXG5dKTtcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vc2VydmljZSc7IiwiaW1wb3J0IHsgSVNldHRpbmdzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2UvSVNldHRpbmdzU2VydmljZSc7XHJcbmltcG9ydCB7IFNldHRpbmdzVGFiIH0gZnJvbSAnLi4vc2VydmljZS9TZXR0aW5nc1RhYic7XHJcbmltcG9ydCB7IFNldHRpbmdzUGFnZVNlbGVjdGVkVGFiIH0gZnJvbSAnLi4vc2VydmljZS9TZXR0aW5nc1BhZ2VTZWxlY3RlZFRhYic7XHJcblxyXG5pbnRlcmZhY2UgSVNldHRpbmdzUGFnZUNvbnRyb2xsZXIge1xyXG4gICAgdGFiczogU2V0dGluZ3NUYWJbXTtcclxuICAgIHNlbGVjdGVkOiBTZXR0aW5nc1BhZ2VTZWxlY3RlZFRhYjtcclxuICAgIC8vIG9uRHJvcGRvd25TZWxlY3Q6IEZ1bmN0aW9uO1xyXG4gICAgb25OYXZpZ2F0aW9uU2VsZWN0KHN0YXRlOiBzdHJpbmcpOiB2b2lkO1xyXG59XHJcblxyXG5jbGFzcyBTZXR0aW5nc1BhZ2VDb250cm9sbGVyIGltcGxlbWVudHMgSVNldHRpbmdzUGFnZUNvbnRyb2xsZXIge1xyXG4gICAgcHJpdmF0ZSBfcGlwVHJhbnNsYXRlOiBwaXAuc2VydmljZXMuSVRyYW5zbGF0ZVNlcnZpY2VcclxuXHJcbiAgICBwdWJsaWMgdGFiczogU2V0dGluZ3NUYWJbXTtcclxuICAgIHB1YmxpYyBzZWxlY3RlZDogU2V0dGluZ3NQYWdlU2VsZWN0ZWRUYWI7XHJcbiAgICAvLyBwdWJsaWMgb25Ecm9wZG93blNlbGVjdDogRnVuY3Rpb247XHJcbiAgICBwcml2YXRlIGNsZWFuVXBGdW5jOiBGdW5jdGlvbjtcclxuICAgIHByaXZhdGUgY2xlYW5VcFNlbGVjdEZ1bmM6IEZ1bmN0aW9uO1xyXG4gICAgcHJpdmF0ZSBtZWRpYVNpemVHdFNtOiBib29sZWFuO1xyXG4gICAgcHVibGljIGRldGFpbHM6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSAkc3RhdGU6IG5nLnVpLklTdGF0ZVNlcnZpY2UsXHJcbiAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcclxuICAgICAgICAkc2NvcGU6IG5nLklTY29wZSxcclxuICAgICAgICBwcml2YXRlICRpbmplY3RvcjogbmcuYXV0by5JSW5qZWN0b3JTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IGFuZ3VsYXIuSVRpbWVvdXRTZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgJGxvY2F0aW9uOiBuZy5JTG9jYXRpb25TZXJ2aWNlLFxyXG4gICAgICAgIHByaXZhdGUgcGlwTmF2U2VydmljZTogcGlwLm5hdi5JTmF2U2VydmljZSxcclxuICAgICAgICBwcml2YXRlIHBpcFNldHRpbmdzOiBJU2V0dGluZ3NTZXJ2aWNlLFxyXG4gICAgICAgIHB1YmxpYyBwaXBNZWRpYTogcGlwLmxheW91dHMuSU1lZGlhU2VydmljZSxcclxuICAgICkge1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zbGF0ZUluaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tZWRpYVNpemVHdFNtID0gdGhpcy5waXBNZWRpYSgnZ3Qtc20nKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VGFicygpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucGlwTWVkaWEoJ2d0LXNtJykpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxzID0gJGxvY2F0aW9uLnNlYXJjaCgpLmRldGFpbHMgPT0gJ2RldGFpbHMnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlscyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi5zZWFyY2goJ2RldGFpbHMnLCAnbWFpbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jbGVhblVwU2VsZWN0RnVuYyA9ICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLiRzdGF0ZS5jdXJyZW50Lm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFNlbGVjdChzdGF0ZSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNsZWFuVXBGdW5jID0gJHJvb3RTY29wZS4kb24oJ3BpcE1haW5SZXNpemVkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYVNpemVHdFNtICE9PSB0aGlzLnBpcE1lZGlhKCdndC1zbScpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhU2l6ZUd0U20gPSB0aGlzLnBpcE1lZGlhKCdndC1zbScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBpcE1lZGlhKCdndC1zbScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXRhaWxzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcEhlYWRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hcHBIZWFkZXIoKTtcclxuXHJcbiAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhpcy5jbGVhblVwRnVuYykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW5VcEZ1bmMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0aGlzLmNsZWFuVXBTZWxlY3RGdW5jKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhblVwU2VsZWN0RnVuYygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0VGFicygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRhYnMgPSBfLmZpbHRlcih0aGlzLnBpcFNldHRpbmdzLmdldFRhYnMoKSwgKHRhYjogU2V0dGluZ3NUYWIpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRhYi52aXNpYmxlID09PSB0cnVlICYmICh0YWIuYWNjZXNzID8gdGFiLmFjY2Vzcyh0aGlzLiRyb290U2NvcGVbJyR1c2VyJ10sIHRhYikgOiB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnRhYnMgPSBfLnNvcnRCeSh0aGlzLnRhYnMsICdpbmRleCcpO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gbmV3IFNldHRpbmdzUGFnZVNlbGVjdGVkVGFiKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuJHN0YXRlLmN1cnJlbnQubmFtZSAhPT0gJ3NldHRpbmdzJykge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3QodGhpcy4kc3RhdGUuY3VycmVudC5uYW1lKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gJ3NldHRpbmdzJyAmJiB0aGlzLnBpcFNldHRpbmdzLmdldERlZmF1bHRUYWIoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRTZWxlY3QodGhpcy5waXBTZXR0aW5ncy5nZXREZWZhdWx0VGFiKCkuc3RhdGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGlwU2V0dGluZ3MuZ2V0RGVmYXVsdFRhYigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0KHRoaXMucGlwU2V0dGluZ3MuZ2V0RGVmYXVsdFRhYigpLnN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5waXBTZXR0aW5ncy5nZXREZWZhdWx0VGFiKCkgJiYgdGhpcy50YWJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRTZWxlY3QodGhpcy50YWJzWzBdLnN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdHJhbnNsYXRlSW5pdCgpIHtcclxuICAgICAgICB0aGlzLl9waXBUcmFuc2xhdGUgPSB0aGlzLiRpbmplY3Rvci5oYXMoJ3BpcFRyYW5zbGF0ZScpID8gPHBpcC5zZXJ2aWNlcy5JVHJhbnNsYXRlU2VydmljZT50aGlzLiRpbmplY3Rvci5nZXQoJ3BpcFRyYW5zbGF0ZScpIDogbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5fcGlwVHJhbnNsYXRlICYmIHRoaXMuX3BpcFRyYW5zbGF0ZS5zZXRUcmFuc2xhdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGlwVHJhbnNsYXRlLnNldFRyYW5zbGF0aW9ucygnZW4nLCB7XHJcbiAgICAgICAgICAgICAgICBQSVBfU0VUVElOR1M6ICdTZXR0aW5ncycsXHJcbiAgICAgICAgICAgICAgICBQSVBfU0VUVElOR1NfREVUQUlMUzogJ1NldHRpbmdzIGRldGFpbHMnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9waXBUcmFuc2xhdGUuc2V0VHJhbnNsYXRpb25zKCdydScsIHtcclxuICAgICAgICAgICAgICAgIFBJUF9TRVRUSU5HUzogJ9Cd0LDRgdGC0YDQvtC50LrQuCcsXHJcbiAgICAgICAgICAgICAgICBQSVBfU0VUVElOR1NfREVUQUlMUzogJ9Cf0L7QtNGA0L7QsdC90L4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgdG9NYWluRnJvbURldGFpbHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy4kbG9jYXRpb24uc2VhcmNoKCdkZXRhaWxzJywgJ21haW4nKTtcclxuICAgICAgICB0aGlzLmRldGFpbHMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFwcEhlYWRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhcHBIZWFkZXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5waXBOYXZTZXJ2aWNlLmJyZWFkY3J1bWIuYnJlYWtwb2ludCA9ICdndC1zbSc7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBpcE1lZGlhKCdndC1zbScpKSB7XHJcbiAgICAgICAgICAgIGxldCBkZXRhaWxzVGl0bGU6IHN0cmluZyA9IHRoaXMuc2VsZWN0ZWQgJiYgdGhpcy5zZWxlY3RlZC50YWIgPyB0aGlzLnNlbGVjdGVkLnRhYi50aXRsZSA6ICdQSVBfU0VUVElOR1NfREVUQUlMUyc7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRldGFpbHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGlwTmF2U2VydmljZS5pY29uLnNob3dCYWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvTWFpbkZyb21EZXRhaWxzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGlwTmF2U2VydmljZS5icmVhZGNydW1iLml0ZW1zID0gW1xyXG4gICAgICAgICAgICAgICAgICAgIDxwaXAubmF2LkJyZWFkY3J1bWJJdGVtPntcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUElQX1NFVFRJTkdTXCIsIGNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvTWFpbkZyb21EZXRhaWxzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIDxwaXAubmF2LkJyZWFkY3J1bWJJdGVtPntcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGRldGFpbHNUaXRsZSwgY2xpY2s6ICgpID0+IHsgfSwgc3ViQWN0aW9uczogW11cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waXBOYXZTZXJ2aWNlLmljb24uc2hvd01lbnUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGlwTmF2U2VydmljZS5icmVhZGNydW1iLnRleHQgPSBcIlBJUF9TRVRUSU5HU1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5waXBOYXZTZXJ2aWNlLmljb24uc2hvd01lbnUoKTtcclxuICAgICAgICAgICAgdGhpcy5waXBOYXZTZXJ2aWNlLmJyZWFkY3J1bWIudGV4dCA9IFwiUElQX1NFVFRJTkdTXCI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5waXBOYXZTZXJ2aWNlLmFjdGlvbnMuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMucGlwTmF2U2VydmljZS5hcHBiYXIucmVtb3ZlU2hhZG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0U2VsZWN0KHN0YXRlOiBzdHJpbmcsIHVwZGF0ZVN0YXRlOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQudGFiID0gXy5maW5kKHRoaXMudGFicywgKHRhYjogU2V0dGluZ3NUYWIpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhYi5zdGF0ZSA9PT0gc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZC50YWJJbmRleCA9IF8uaW5kZXhPZih0aGlzLnRhYnMsIHRoaXMuc2VsZWN0ZWQudGFiKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkLnRhYklkID0gc3RhdGU7XHJcbiAgICAgICAgaWYgKHVwZGF0ZVN0YXRlID09PSB0cnVlKSB0aGlzLiRzdGF0ZS5nbyh0aGlzLnNlbGVjdGVkLnRhYklkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25OYXZpZ2F0aW9uU2VsZWN0KHN0YXRlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmluaXRTZWxlY3Qoc3RhdGUpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMucGlwTWVkaWEoJ2d0LXNtJykpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxzID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24uc2VhcmNoKCdkZXRhaWxzJywgJ2RldGFpbHMnKTtcclxuICAgICAgICAgICAgdGhpcy5hcHBIZWFkZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ3BpcFNldHRpbmdzLlBhZ2UnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3BpcFNldHRpbmdzUGFnZUNvbnRyb2xsZXInLCBTZXR0aW5nc1BhZ2VDb250cm9sbGVyKTtcclxuIiwie1xyXG4gICAgZnVuY3Rpb24gY29uZmlndXJlU2V0dGluZ3NQYWdlUm91dGVzKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLnN0YXRlKCdzZXR0aW5ncycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9zZXR0aW5ncz91c2VyX2lkJmRldGFpbHMnLFxyXG4gICAgICAgICAgICAgICAgYXV0aDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwaXBTZXR0aW5nc1BhZ2VDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFnZS9TZXR0aW5nc1BhZ2UuaHRtbCdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdwaXBTZXR0aW5ncy5QYWdlJylcclxuICAgICAgICAuY29uZmlnKGNvbmZpZ3VyZVNldHRpbmdzUGFnZVJvdXRlcyk7XHJcbn1cclxuIiwiYW5ndWxhci5tb2R1bGUoJ3BpcFNldHRpbmdzLlBhZ2UnLCBbXHJcbiAgICAndWkucm91dGVyJywgXHJcbiAgICAncGlwU2V0dGluZ3MuU2VydmljZScsXHJcbiAgICAncGlwTmF2JywgXHJcbiAgICAncGlwU2VsZWN0ZWQnLFxyXG4gICAgJ3BpcFRyYW5zbGF0ZScsXHJcbiAgICAncGlwU2V0dGluZ3MuVGVtcGxhdGVzJ1xyXG4gICAgXSk7XHJcblxyXG5cclxuaW1wb3J0ICcuL1NldHRpbmdzUGFnZSc7XHJcbmltcG9ydCAnLi9TZXR0aW5nc1BhZ2VSb3V0ZXMnOyIsImltcG9ydCB7IFNldHRpbmdzVGFiIH0gZnJvbSAnLi9TZXR0aW5nc1RhYic7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NDb25maWcge1xyXG4gICAgcHVibGljIGRlZmF1bHRUYWI6IHN0cmluZztcclxuICAgIHB1YmxpYyB0YWJzOiBTZXR0aW5nc1RhYltdID0gW107XHJcbiAgICBwdWJsaWMgdGl0bGVUZXh0OiBzdHJpbmcgPSAnU0VUVElOR1NfVElUTEUnO1xyXG4gICAgcHVibGljIHRpdGxlTG9nbzogYm9vbGVhbiA9IG51bGw7XHJcbiAgICBwdWJsaWMgaXNOYXZJY29uOiBib29sZWFuID0gdHJ1ZTtcclxufVxyXG4iLCJpbXBvcnQgeyBTZXR0aW5nc1RhYiB9IGZyb20gJy4vU2V0dGluZ3NUYWInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzUGFnZVNlbGVjdGVkVGFiIHtcclxuICAgIHB1YmxpYyB0YWI6IFNldHRpbmdzVGFiO1xyXG4gICAgcHVibGljIHRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHRhYklkOiBzdHJpbmc7XHJcbn0iLCJpbXBvcnQgeyBTZXR0aW5nc1RhYiB9IGZyb20gJy4vU2V0dGluZ3NUYWInO1xyXG5pbXBvcnQgeyBTZXR0aW5nc0NvbmZpZyB9IGZyb20gJy4vU2V0dGluZ3NDb25maWcnO1xyXG5pbXBvcnQgeyBJU2V0dGluZ3NTZXJ2aWNlIH0gZnJvbSAnLi9JU2V0dGluZ3NTZXJ2aWNlJztcclxuaW1wb3J0IHsgSVNldHRpbmdzUHJvdmlkZXIgfSBmcm9tICcuL0lTZXR0aW5nc1NlcnZpY2UnO1xyXG5cclxuY2xhc3MgU2V0dGluZ3NTZXJ2aWNlIGltcGxlbWVudHMgSVNldHRpbmdzU2VydmljZSB7XHJcbiAgICBwcml2YXRlIF9jb25maWc6IFNldHRpbmdzQ29uZmlnO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb25maWc6IFNldHRpbmdzQ29uZmlnKSB7XHJcbiAgICAgICAgXCJuZ0luamVjdFwiO1xyXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEZ1bGxTdGF0ZU5hbWUoc3RhdGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdzZXR0aW5ncy4nICsgc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldERlZmF1bHRUYWIobmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsICh0YWI6IFNldHRpbmdzVGFiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWIuc3RhdGUgPT09ICdzZXR0aW5ncy4nICsgbmFtZTtcclxuICAgICAgICB9KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiB3aXRoIHN0YXRlIG5hbWUgXCInICsgbmFtZSArICdcIiBpcyBub3QgcmVnaXN0ZXJlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29uZmlnLmRlZmF1bHRUYWIgPSB0aGlzLmdldEZ1bGxTdGF0ZU5hbWUobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERlZmF1bHRUYWIoKTogU2V0dGluZ3NUYWIge1xyXG4gICAgICAgIGxldCBkZWZhdWx0VGFiOiBTZXR0aW5nc1RhYjtcclxuXHJcbiAgICAgICAgZGVmYXVsdFRhYiA9IF8uZmluZCh0aGlzLl9jb25maWcudGFicywgKHRhYjogU2V0dGluZ3NUYWIpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhYi5zdGF0ZSA9PT0gdGhpcy5fY29uZmlnLmRlZmF1bHRUYWI7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKGRlZmF1bHRUYWIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93VGl0bGVUZXh0KG5ld1RpdGxlVGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAobmV3VGl0bGVUZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZVRleHQgPSBuZXdUaXRsZVRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZUxvZ28gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50aXRsZVRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dUaXRsZUxvZ28obmV3VGl0bGVMb2dvKSB7XHJcbiAgICAgICAgaWYgKG5ld1RpdGxlTG9nbykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb25maWcudGl0bGVMb2dvID0gbmV3VGl0bGVMb2dvO1xyXG4gICAgICAgICAgICB0aGlzLl9jb25maWcudGl0bGVUZXh0ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcudGl0bGVMb2dvO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93TmF2SWNvbih2YWx1ZTogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5pc05hdkljb24gPSAhIXZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5pc05hdkljb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRhYnMoKTogU2V0dGluZ3NUYWJbXSB7XHJcbiAgICAgICAgcmV0dXJuIF8uY2xvbmVEZWVwKHRoaXMuX2NvbmZpZy50YWJzKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIFNldHRpbmdzUHJvdmlkZXIgaW1wbGVtZW50cyBJU2V0dGluZ3NQcm92aWRlciB7XHJcbiAgICBwcml2YXRlIF9zZXJ2aWNlOiBTZXR0aW5nc1NlcnZpY2U7XHJcbiAgICBwcml2YXRlIF9zdGF0ZVByb3ZpZGVyOiB7IHN0YXRlOiBGdW5jdGlvbiB9O1xyXG4gICAgcHJpdmF0ZSBfY29uZmlnOiBTZXR0aW5nc0NvbmZpZyA9IG5ldyBTZXR0aW5nc0NvbmZpZygpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCRzdGF0ZVByb3ZpZGVyOiBuZy51aS5JU3RhdGVQcm92aWRlcikgeyBcIm5nSW5qZWN0XCI7IHRoaXMuX3N0YXRlUHJvdmlkZXIgPSAkc3RhdGVQcm92aWRlcjsgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgc3RhdGVQcm92aWRlcihzdGF0ZVByb3ZpZGVyOiB7IHN0YXRlOiBGdW5jdGlvbiB9KSB7XHJcbiAgICAgICAgdGhpcy5fc3RhdGVQcm92aWRlciA9IHN0YXRlUHJvdmlkZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzdGF0ZVByb3ZpZGVyKCk6IHsgc3RhdGU6IEZ1bmN0aW9uIH0ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZVByb3ZpZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGdWxsU3RhdGVOYW1lKHN0YXRlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnc2V0dGluZ3MuJyArIHN0YXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZWZhdWx0VGFiKCk6IFNldHRpbmdzVGFiIHtcclxuICAgICAgICBsZXQgZGVmYXVsdFRhYjogU2V0dGluZ3NUYWI7XHJcblxyXG4gICAgICAgIGRlZmF1bHRUYWIgPSBfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsICh0YWI6IFNldHRpbmdzVGFiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWIuc3RhdGUgPT09IGRlZmF1bHRUYWIuc3RhdGU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBfLmNsb25lRGVlcChkZWZhdWx0VGFiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVGFiKHRhYk9iajogU2V0dGluZ3NUYWIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgZXhpc3RpbmdUYWI6IFNldHRpbmdzVGFiO1xyXG5cclxuICAgICAgICB0aGlzLnZhbGlkYXRlVGFiKHRhYk9iaik7XHJcbiAgICAgICAgZXhpc3RpbmdUYWIgPSBfLmZpbmQodGhpcy5fY29uZmlnLnRhYnMsICh0YWI6IFNldHRpbmdzVGFiKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWIuc3RhdGUgPT09ICdzZXR0aW5ncy4nICsgdGFiT2JqLnN0YXRlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChleGlzdGluZ1RhYikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiB3aXRoIHN0YXRlIG5hbWUgXCInICsgdGFiT2JqLnN0YXRlICsgJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29uZmlnLnRhYnMucHVzaCh7XHJcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLmdldEZ1bGxTdGF0ZU5hbWUodGFiT2JqLnN0YXRlKSxcclxuICAgICAgICAgICAgdGl0bGU6IHRhYk9iai50aXRsZSxcclxuICAgICAgICAgICAgaWNvbjogdGFiT2JqLmljb24sXHJcbiAgICAgICAgICAgIGljb25DbGFzczogdGFiT2JqLmljb25DbGFzcyxcclxuICAgICAgICAgICAgaW5kZXg6IHRhYk9iai5pbmRleCB8fCAxMDAwMDAsXHJcbiAgICAgICAgICAgIGFjY2VzczogdGFiT2JqLmFjY2VzcyxcclxuICAgICAgICAgICAgdmlzaWJsZTogdGFiT2JqLnZpc2libGUgIT09IGZhbHNlLFxyXG4gICAgICAgICAgICBzdGF0ZUNvbmZpZzogXy5jbG9uZURlZXAodGFiT2JqLnN0YXRlQ29uZmlnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3N0YXRlUHJvdmlkZXIuc3RhdGUodGhpcy5nZXRGdWxsU3RhdGVOYW1lKHRhYk9iai5zdGF0ZSksIHRhYk9iai5zdGF0ZUNvbmZpZyk7XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIGp1c3QgYWRkZWQgZmlyc3Qgc3RhdGUgYW5kIG5vIGRlZmF1bHQgc3RhdGUgaXMgc3BlY2lmaWVkXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcuZGVmYXVsdFRhYiA9PT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5fY29uZmlnLnRhYnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdFRhYih0YWJPYmouc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RGVmYXVsdFRhYihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAvLyBUT0RPIFthcGlkaGlybnlpXSBleHRyYWN0IGV4cHJlc3Npb24gaW5zaWRlICdpZicgaW50byB2YXJpYWJsZS4gSXQgaXNuJ3QgcmVhZGFibGUgbm93LlxyXG4gICAgICAgIGlmICghXy5maW5kKHRoaXMuX2NvbmZpZy50YWJzLCAodGFiOiBTZXR0aW5nc1RhYikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGFiLnN0YXRlID09PSAnc2V0dGluZ3MuJyArIG5hbWU7XHJcbiAgICAgICAgfSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYWIgd2l0aCBzdGF0ZSBuYW1lIFwiJyArIG5hbWUgKyAnXCIgaXMgbm90IHJlZ2lzdGVyZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbmZpZy5kZWZhdWx0VGFiID0gdGhpcy5nZXRGdWxsU3RhdGVOYW1lKG5hbWUpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy4kc3RhdGVQcm92aWRlcik7XHJcbiAgICAgICAgLy90aGlzLiRzdGF0ZVByb3ZpZGVyLmdvKHRoaXMuX2NvbmZpZy5kZWZhdWx0VGFiKTtcclxuICAgICAgICAvL3BpcEF1dGhTdGF0ZVByb3ZpZGVyLnJlZGlyZWN0KCdzZXR0aW5ncycsIGdldEZ1bGxTdGF0ZU5hbWUobmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGVzIHBhc3NlZCB0YWIgY29uZmlnIG9iamVjdFxyXG4gICAgICogSWYgcGFzc2VkIHRhYiBpcyBub3QgdmFsaWQgaXQgd2lsbCB0aHJvdyBhbiBlcnJvclxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHZhbGlkYXRlVGFiKHRhYk9iajogU2V0dGluZ3NUYWIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRhYk9iaiB8fCAhXy5pc09iamVjdCh0YWJPYmopKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvYmplY3QnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YWJPYmouc3RhdGUgPT09IG51bGwgfHwgdGFiT2JqLnN0YXRlID09PSAnJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhYiBzaG91bGQgaGF2ZSB2YWxpZCBBbmd1bGFyIFVJIHJvdXRlciBzdGF0ZSBuYW1lJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFiT2JqLmFjY2VzcyAmJiAhXy5pc0Z1bmN0aW9uKHRhYk9iai5hY2Nlc3MpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJhY2Nlc3NcIiBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0YWJPYmouc3RhdGVDb25maWcgfHwgIV8uaXNPYmplY3QodGFiT2JqLnN0YXRlQ29uZmlnKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RhdGUgY29uZmlndXJhdGlvbiBvYmplY3QnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dUaXRsZVRleHQobmV3VGl0bGVUZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChuZXdUaXRsZVRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlVGV4dCA9IG5ld1RpdGxlVGV4dDtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnRpdGxlTG9nbyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnRpdGxlVGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd1RpdGxlTG9nbyhuZXdUaXRsZUxvZ28pIHtcclxuICAgICAgICBpZiAobmV3VGl0bGVMb2dvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZUxvZ28gPSBuZXdUaXRsZUxvZ287XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aXRsZVRleHQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50aXRsZUxvZ287XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3dOYXZJY29uKHZhbHVlOiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmlzTmF2SWNvbiA9ICEhdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmlzTmF2SWNvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgJGdldCgpOiBJU2V0dGluZ3NTZXJ2aWNlIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcblxyXG4gICAgICAgIGlmIChfLmlzTnVsbCh0aGlzLl9zZXJ2aWNlKSB8fCBfLmlzVW5kZWZpbmVkKHRoaXMuX3NlcnZpY2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UgPSBuZXcgU2V0dGluZ3NTZXJ2aWNlKHRoaXMuX2NvbmZpZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fc2VydmljZTtcclxuICAgIH1cclxufVxyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgncGlwU2V0dGluZ3MuU2VydmljZScsIFsndWkucm91dGVyJ10pXHJcbiAgICAucHJvdmlkZXIoJ3BpcFNldHRpbmdzJywgU2V0dGluZ3NQcm92aWRlcik7XHJcblxyXG4iLCJleHBvcnQgY2xhc3MgU2V0dGluZ3NTdGF0ZUNvbmZpZyB7XHJcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYXV0aDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIHRlbXBsYXRlVXJsPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHRlbXBsYXRlPzogc3RyaW5nO1xyXG59IiwiaW1wb3J0IHsgU2V0dGluZ3NTdGF0ZUNvbmZpZyB9IGZyb20gJy4vU2V0dGluZ3NTdGF0ZUNvbmZpZyc7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NUYWIge1xyXG4gICAgcHVibGljIHN0YXRlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdGl0bGU6IHN0cmluZztcclxuICAgIHB1YmxpYyBpY29uPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGljb25DbGFzcz86IHN0cmluZztcclxuICAgIHB1YmxpYyBpbmRleDogbnVtYmVyO1xyXG4gICAgcHVibGljIGFjY2VzczogRnVuY3Rpb247XHJcbiAgICBwdWJsaWMgdmlzaWJsZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBzdGF0ZUNvbmZpZzogU2V0dGluZ3NTdGF0ZUNvbmZpZztcclxufVxyXG4iLCJpbXBvcnQgJy4vU2V0dGluZ3NDb25maWcnO1xyXG5pbXBvcnQgJy4vU2V0dGluZ3NQYWdlU2VsZWN0ZWRUYWInO1xyXG5pbXBvcnQgJy4vU2V0dGluZ3NTdGF0ZUNvbmZpZyc7XHJcbmltcG9ydCAnLi9TZXR0aW5nc1RhYic7XHJcbmltcG9ydCAnLi9TZXR0aW5nc1NlcnZpY2UnO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9TZXR0aW5nc0NvbmZpZyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vU2V0dGluZ3NQYWdlU2VsZWN0ZWRUYWInO1xyXG5leHBvcnQgKiBmcm9tICcuL1NldHRpbmdzU3RhdGVDb25maWcnO1xyXG5leHBvcnQgKiBmcm9tICcuL1NldHRpbmdzVGFiJztcclxuZXhwb3J0ICogZnJvbSAnLi9TZXR0aW5nc1NlcnZpY2UnO1xyXG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwU2V0dGluZ3MuVGVtcGxhdGVzJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBTZXR0aW5ncy5UZW1wbGF0ZXMnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3BhZ2UvU2V0dGluZ3NQYWdlLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGlwLW1haW4tbWVudSBwaXAtc2V0dGluZ3NcIiBuZy1jbGFzcz1cIntcXCdwaXAtc2luZ2xlLWNvbnRlbnRcXCc6IHZtLmRldGFpbHN9XCI+PGRpdiBjbGFzcz1cInBpcC1tZW51XCI+PGRpdiBjbGFzcz1cInBpcC1saXN0LWNvbnRhaW5lciBwaXAtc2Nyb2xsIGRpdmlkZXItdG9wXCI+PG1kLWxpc3QgY2xhc3M9XCJwaXAtcmVmLWxpc3QgdHAwIHBpcC1zZXR0aW5ncy1saXN0XCIgcGlwLXNlbGVjdGVkPVwidm0uc2VsZWN0ZWQudGFiSW5kZXhcIiBwaXAtc2VsZWN0ZWQtd2F0Y2g9XCJ2bS5zZWxlY3RlZC5uYXZJZFwiIHBpcC1zZWxlY3Q9XCJ2bS5vbk5hdmlnYXRpb25TZWxlY3QoJGV2ZW50LmlkKVwiPjxtZC1saXN0LWl0ZW0gY2xhc3M9XCJwaXAtcmVmLWxpc3QtaXRlbSBwb2ludGVyIGRpdmlkZXItYm90dG9tIHBpcC1zZWxlY3RhYmxlXCIgbmctcmVwZWF0PVwidGFiIGluIHZtLnRhYnMgdHJhY2sgYnkgdGFiLnN0YXRlXCIgcGlwLWlkPVwie3s6OiB0YWIuc3RhdGUgfX1cIiBtZC1pbmstcmlwcGxlPVwiXCI+PGRpdiBuZy1jbGljaz1cInZtLm9uTmF2aWdhdGlvblNlbGVjdCh0YWIuc3RhdGUpXCIgY2xhc3M9XCJsYXlvdXQtcm93IGxheW91dC1hbGlnbi1zdGFydC1jZW50ZXIgZmxleFwiPjxkaXYgY2xhc3M9XCJwaXAtc2V0dGluZ3MtaWNvbiBsYXlvdXQtcm93IGxheW91dC1hbGlnbi1zdGFydC1jZW50ZXIge3sgdGFiLmljb25DbGFzcyA/IHRhYi5pY29uQ2xhc3MgOiBcXCdwaXAtc2V0dGluZ3MtaWNvbi1jb2xvclxcJ319XCIgbmctaWY9XCJ0YWIuaWNvblwiPjxtZC1pY29uIGNsYXNzPVwiXCIgbWQtc3ZnLWljb249XCJ7eyB0YWIuaWNvbiB9fVwiPjwvbWQtaWNvbj48L2Rpdj48ZGl2IGNsYXNzPVwicGlwLWNvbnRlbnQge3sgdGFiLmljb24gPyBcXCdcXCcgOiBcXCdwaXAtc2V0dGluZ3Mtd2l0aG91dC1pY29uXFwnIH19XCI+PHAgY2xhc3M9XCJwaXAtdGl0bGUgdGV4dC1vdmVyZmxvdyBmbGV4XCI+e3sgOjp0YWIudGl0bGUgfCB0cmFuc2xhdGUgfX08L3A+PC9kaXY+PGRpdiBjbGFzcz1cInBpcC1yZWYtbGlzdC1pdGVtLWVuZC1pY29uXCI+PG1kLWljb24gY2xhc3M9XCJcIiBtZC1zdmctaWNvbj1cImljb25zOmNoZXZyb24tcmlnaHRcIj48L21kLWljb24+PC9kaXY+PC9kaXY+PC9tZC1saXN0LWl0ZW0+PC9tZC1saXN0PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJwaXAtY29udGVudC1jb250YWluZXJcIj48cGlwLWRvY3VtZW50PjxkaXYgY2xhc3M9XCJwaXAtYm9keSB0cDI0LWZsZXggbGF5b3V0LWNvbHVtbiBmbGV4XCIgdWktdmlldz1cIlwiPjwvZGl2PjwvcGlwLWRvY3VtZW50PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwLXdlYnVpLXNldHRpbmdzLWh0bWwubWluLmpzLm1hcFxuIl19"}